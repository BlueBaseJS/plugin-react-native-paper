b697dad455e3d5590ef6844f48d420ec
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var Batchinator = require('Batchinator');

var FillRateHelper = require('FillRateHelper');

var PropTypes = require('prop-types');

var React = require('React');

var ReactNative = require('ReactNative');

var RefreshControl = require('RefreshControl');

var ScrollView = require('ScrollView');

var StyleSheet = require('StyleSheet');

var UIManager = require('UIManager');

var View = require('View');

var ViewabilityHelper = require('ViewabilityHelper');

var flattenStyle = require('flattenStyle');

var infoLog = require('infoLog');

var invariant = require('fbjs/lib/invariant');

var warning = require('fbjs/lib/warning');

var _require = require('VirtualizeUtils'),
    computeWindowedRenderLimits = _require.computeWindowedRenderLimits;

var _usedIndexForKey = false;
var _keylessItemComponentName = '';

var VirtualizedList = function (_React$PureComponent) {
  (0, _inherits2.default)(VirtualizedList, _React$PureComponent);
  (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;

      var frame = this._getFrameMetricsApprox(veryLast);

      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);

      this._scrollRef.scrollTo(this.props.horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props = this.props,
          data = _this$props.data,
          horizontal = _this$props.horizontal,
          getItemCount = _this$props.getItemCount,
          getItemLayout = _this$props.getItemLayout,
          onScrollToIndexFailed = _this$props.onScrollToIndexFailed;
      var animated = params.animated,
          index = params.index,
          viewOffset = params.viewOffset,
          viewPosition = params.viewPosition;
      invariant(index >= 0 && index < getItemCount(data), "scrollToIndex out of range: " + index + " vs " + (getItemCount(data) - 1));

      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }

      var frame = this._getFrameMetricsApprox(index);

      var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);

      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props2 = this.props,
          data = _this$props2.data,
          getItem = _this$props2.getItem,
          getItemCount = _this$props2.getItemCount;
      var itemCount = getItemCount(data);

      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex((0, _objectSpread2.default)({}, params, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
          offset = params.offset;

      this._scrollRef.scrollTo(this.props.horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref.recordInteraction();
      });

      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });

      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return ReactNative.findNodeHandle(this._scrollRef);
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedList: {
          getScrollMetrics: this._getScrollMetrics,
          horizontal: this.props.horizontal,
          getOutermostParentListRef: this._getOutermostParentListRef,
          getNestedChildState: this._getNestedChildState,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        }
      };
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      return this.context.virtualizedCell && this.context.virtualizedCell.cellKey || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }]);

  function VirtualizedList(_props, context) {
    var _this;

    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(VirtualizedList).call(this, _props, context));
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_getScrollMetrics", function () {
      return _this._scrollMetrics;
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_getOutermostParentListRef", function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.virtualizedList.getOutermostParentListRef();
      } else {
        return (0, _assertThisInitialized2.default)(_this);
      }
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_getNestedChildState", function (key) {
      var existingChildData = _this._nestedChildLists.get(key);

      return existingChildData && existingChildData.state;
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_registerAsNestedChild", function (childList) {
      var childListsInCell = _this._cellKeysToChildListKeys.get(childList.cellKey) || new Set();
      childListsInCell.add(childList.key);

      _this._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);

      var existingChildData = _this._nestedChildLists.get(childList.key);

      invariant(!(existingChildData && existingChildData.ref !== null), 'A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.');

      _this._nestedChildLists.set(childList.key, {
        ref: childList.ref,
        state: null
      });

      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_unregisterAsNestedChild", function (childList) {
      _this._nestedChildLists.set(childList.key, {
        ref: null,
        state: childList.state
      });
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onUpdateSeparators", function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_averageCellLength", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_cellKeysToChildListKeys", new Map());
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_cellRefs", {});
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_frames", {});
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_footerLength", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_hasDataChangedSinceEndReached", true);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_hasInteracted", false);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_hasMore", false);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_hasWarned", {});
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_highestMeasuredFrameIndex", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_headerLength", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_indicesToKeys", new Map());
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_hasDoneInitialScroll", false);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_nestedChildLists", new Map());
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_offsetFromParentVirtualizedList", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_prevParentOffset", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_scrollMetrics", {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_scrollRef", null);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_sentEndForContentLength", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_totalCellLength", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_totalCellsMeasured", 0);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_viewabilityTuples", []);
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_captureScrollRef", function (ref) {
      _this._scrollRef = ref;
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_defaultRenderScrollComponent", function (props) {
      var onRefresh = props.onRefresh;

      if (_this._isNestedWithSameOrientation()) {
        return React.createElement(View, props);
      } else if (onRefresh) {
        invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');
        return React.createElement(ScrollView, (0, _extends2.default)({}, props, {
          refreshControl: props.refreshControl == null ? React.createElement(RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return React.createElement(ScrollView, props);
      }
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onCellUnmount", function (cellKey) {
      var curr = _this._frames[cellKey];

      if (curr) {
        _this._frames[cellKey] = (0, _objectSpread2.default)({}, curr, {
          inLayout: false
        });
      }
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onLayout", function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }

      _this.props.onLayout && _this.props.onLayout(e);

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onLayoutEmpty", function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onLayoutFooter", function (e) {
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onLayoutHeader", function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onContentSizeChange", function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasDoneInitialScroll) {
        _this.scrollToIndex({
          animated: false,
          index: _this.props.initialScrollIndex
        });

        _this._hasDoneInitialScroll = true;
      }

      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }

      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_convertParentScrollMetrics", function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onScroll", function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScroll(e);
      });

      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }

      var timestamp = e.timeStamp;

      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);

      var contentLength = _this._selectLength(e.nativeEvent.contentSize);

      var offset = _this._selectOffset(e.nativeEvent.contentOffset);

      var dOffset = offset - _this._scrollMetrics.offset;

      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }

        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });

        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }

      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;

      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }

      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength
      };

      _this._updateViewableItems(_this.props.data);

      if (!_this.props) {
        return;
      }

      _this._maybeCallOnEndReached();

      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }

      _this._computeBlankness();

      _this._scheduleCellsToRenderUpdate();
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onScrollBeginDrag", function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollBeginDrag(e);
      });

      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });

      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onScrollEndDrag", function (e) {
      var velocity = e.nativeEvent.velocity;

      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }

      _this._computeBlankness();

      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_onMomentumScrollEnd", function (e) {
      _this._scrollMetrics.velocity = 0;

      _this._computeBlankness();

      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_updateCellsToRender", function () {
      var _this$props3 = _this.props,
          data = _this$props3.data,
          getItemCount = _this$props3.getItemCount,
          onEndReachedThreshold = _this$props3.onEndReachedThreshold;

      var isVirtualizationDisabled = _this._isVirtualizationDisabled();

      _this._updateViewableItems(data);

      if (!data) {
        return;
      }

      _this.setState(function (state) {
        var newState;

        if (!isVirtualizationDisabled) {
          if (_this._scrollMetrics.visibleLength) {
            if (!_this.props.initialScrollIndex || _this._scrollMetrics.offset) {
              newState = computeWindowedRenderLimits(_this.props, state, _this._getFrameMetricsApprox, _this._scrollMetrics);
            }
          }
        } else {
          var _this$_scrollMetrics = _this._scrollMetrics,
              contentLength = _this$_scrollMetrics.contentLength,
              offset = _this$_scrollMetrics.offset,
              visibleLength = _this$_scrollMetrics.visibleLength;
          var distanceFromEnd = contentLength - visibleLength - offset;
          var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? _this.props.maxToRenderPerBatch : 0;
          newState = {
            first: 0,
            last: Math.min(state.last + renderAhead, getItemCount(data) - 1)
          };
        }

        if (newState && _this._nestedChildLists.size > 0) {
          var newFirst = newState.first;
          var newLast = newState.last;

          for (var ii = newFirst; ii <= newLast; ii++) {
            var cellKeyForIndex = _this._indicesToKeys.get(ii);

            var childListKeys = cellKeyForIndex && _this._cellKeysToChildListKeys.get(cellKeyForIndex);

            if (!childListKeys) {
              continue;
            }

            var someChildHasMore = false;

            for (var _iterator = childListKeys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === "function" ? typeof Symbol === "function" ? Symbol.iterator : "@@iterator" : "@@iterator"]();;) {
              var _ref;

              if (_isArray) {
                if (_i >= _iterator.length) break;
                _ref = _iterator[_i++];
              } else {
                _i = _iterator.next();
                if (_i.done) break;
                _ref = _i.value;
              }

              var _childKey = _ref;

              var childList = _this._nestedChildLists.get(_childKey);

              if (childList && childList.ref && childList.ref.hasMore()) {
                someChildHasMore = true;
                break;
              }
            }

            if (someChildHasMore) {
              newState.last = ii;
              break;
            }
          }
        }

        return newState;
      });
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_createViewToken", function (index, isViewable) {
      var _this$props4 = _this.props,
          data = _this$props4.data,
          getItem = _this$props4.getItem,
          keyExtractor = _this$props4.keyExtractor;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: keyExtractor(item, index),
        isViewable: isViewable
      };
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_getFrameMetricsApprox", function (index) {
      var frame = _this._getFrameMetrics(index);

      if (frame && frame.index === index) {
        return frame;
      } else {
        var getItemLayout = _this.props.getItemLayout;
        invariant(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_getFrameMetrics", function (index) {
      var _this$props5 = _this.props,
          data = _this$props5.data,
          getItem = _this$props5.getItem,
          getItemCount = _this$props5.getItemCount,
          getItemLayout = _this$props5.getItemLayout,
          keyExtractor = _this$props5.keyExtractor;
      invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);

      var frame = item && _this._frames[keyExtractor(item, index)];

      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          frame = getItemLayout(data, index);

          if (__DEV__) {
            var frameType = PropTypes.shape({
              length: PropTypes.number.isRequired,
              offset: PropTypes.number.isRequired,
              index: PropTypes.number.isRequired
            }).isRequired;
            PropTypes.checkPropTypes({
              frame: frameType
            }, {
              frame: frame
            }, 'frame', 'VirtualizedList.getItemLayout');
          }
        }
      }

      return frame;
    });
    invariant(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    invariant(_props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);

    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else if (_this.props.onViewableItemsChanged) {
      _this._viewabilityTuples.push({
        viewabilityHelper: new ViewabilityHelper(_this.props.viewabilityConfig),
        onViewableItemsChanged: _this.props.onViewableItemsChanged
      });
    }

    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1
    };

    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.virtualizedList.getNestedChildState(_this.props.listKey || _this._getCellKey());

      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }

    _this.state = initialState;
    return _this;
  }

  (0, _createClass2.default)(VirtualizedList, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.virtualizedList.registerAsNestedChild({
          cellKey: this._getCellKey(),
          key: this.props.listKey || this._getCellKey(),
          ref: this
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.virtualizedList.unregisterAsNestedChild({
          key: this.props.listKey || this._getCellKey(),
          state: {
            first: this.state.first,
            last: this.state.last,
            frames: this._frames
          }
        });
      }

      this._updateViewableItems(null);

      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });

      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;

      var _this$props6 = this.props,
          CellRendererComponent = _this$props6.CellRendererComponent,
          ItemSeparatorComponent = _this$props6.ItemSeparatorComponent,
          data = _this$props6.data,
          getItem = _this$props6.getItem,
          getItemCount = _this$props6.getItemCount,
          horizontal = _this$props6.horizontal,
          keyExtractor = _this$props6.keyExtractor;
      var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);

      var _loop = function _loop(ii) {
        var item = getItem(data, ii);
        var key = keyExtractor(item, ii);

        _this2._indicesToKeys.set(ii, key);

        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }

        cells.push(React.createElement(CellRenderer, {
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          cellKey: key,
          fillRateHelper: _this2._fillRateHelper,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          key: key,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onLayout: function onLayout(e) {
            return _this2._onCellLayout(e, key, ii);
          },
          onUnmount: _this2._onCellUnmount,
          parentProps: _this2.props,
          ref: function ref(_ref2) {
            _this2._cellRefs[key] = _ref2;
          }
        }));
        prevCellKey = key;
      };

      for (var ii = first; ii <= last; ii++) {
        _loop(ii);
      }
    }
  }, {
    key: "_isVirtualizationDisabled",
    value: function _isVirtualizationDisabled() {
      return this.props.disableVirtualization;
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context.virtualizedList;
      return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      if (__DEV__) {
        var flatStyles = flattenStyle(this.props.contentContainerStyle);
        warning(flatStyles == null || flatStyles.flexWrap !== 'wrap', '`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
      }

      var _this$props7 = this.props,
          ListEmptyComponent = _this$props7.ListEmptyComponent,
          ListFooterComponent = _this$props7.ListFooterComponent,
          ListHeaderComponent = _this$props7.ListHeaderComponent;
      var _this$props8 = this.props,
          data = _this$props8.data,
          horizontal = _this$props8.horizontal;

      var isVirtualizationDisabled = this._isVirtualizationDisabled();

      var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];

      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }

        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : React.createElement(ListHeaderComponent, null);
        cells.push(React.createElement(VirtualizedCellWrapper, {
          cellKey: this._getCellKey() + '-header',
          key: "$header"
        }, React.createElement(View, {
          onLayout: this._onLayoutHeader,
          style: StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle)
        }, element)));
      }

      var itemCount = this.props.getItemCount(data);

      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = !horizontal ? 'height' : 'width';
        var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;
        var _this$state = this.state,
            first = _this$state.first,
            last = _this$state.last;

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);

        var firstAfterInitial = Math.max(lastInitialIndex + 1, first);

        if (!isVirtualizationDisabled && first > lastInitialIndex + 1) {
          var insertedStickySpacer = false;

          if (stickyIndicesFromProps.size > 0) {
            var stickyOffset = ListHeaderComponent ? 1 : 0;

            for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
              if (stickyIndicesFromProps.has(ii + stickyOffset)) {
                var initBlock = this._getFrameMetricsApprox(lastInitialIndex);

                var stickyBlock = this._getFrameMetricsApprox(ii);

                var leadSpace = stickyBlock.offset - initBlock.offset;
                cells.push(React.createElement(View, {
                  key: "$sticky_lead",
                  style: (0, _defineProperty2.default)({}, spacerKey, leadSpace)
                }));

                this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);

                var trailSpace = this._getFrameMetricsApprox(first).offset - (stickyBlock.offset + stickyBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_trail",
                  style: (0, _defineProperty2.default)({}, spacerKey, trailSpace)
                }));
                insertedStickySpacer = true;
                break;
              }
            }
          }

          if (!insertedStickySpacer) {
            var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);

            var firstSpace = this._getFrameMetricsApprox(first).offset - (_initBlock.offset + _initBlock.length);

            cells.push(React.createElement(View, {
              key: "$lead_spacer",
              style: (0, _defineProperty2.default)({}, spacerKey, firstSpace)
            }));
          }
        }

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, last, inversionStyle);

        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }

        if (!isVirtualizationDisabled && last < itemCount - 1) {
          var lastFrame = this._getFrameMetricsApprox(last);

          var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);

          var endFrame = this._getFrameMetricsApprox(end);

          var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);
          cells.push(React.createElement(View, {
            key: "$tail_spacer",
            style: (0, _defineProperty2.default)({}, spacerKey, tailSpacerLength)
          }));
        }
      } else if (ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : React.createElement(ListEmptyComponent, null);

        cells.push(React.cloneElement(_element, {
          key: '$empty',
          onLayout: function onLayout(event) {
            _this3._onLayoutEmpty(event);

            if (_element.props.onLayout) {
              _element.props.onLayout(event);
            }
          },
          style: [_element.props.style, inversionStyle]
        }));
      }

      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : React.createElement(ListFooterComponent, null);

        cells.push(React.createElement(VirtualizedCellWrapper, {
          cellKey: this._getCellKey() + '-footer',
          key: "$footer"
        }, React.createElement(View, {
          onLayout: this._onLayoutFooter,
          style: StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle)
        }, _element2)));
      }

      var scrollProps = (0, _objectSpread2.default)({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: this.props.scrollEventThrottle,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices
      });

      if (inversionStyle) {
        scrollProps.style = [inversionStyle, this.props.style];
      }

      this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;
      var ret = React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
        ref: this._captureScrollRef
      }, cells);

      if (this.props.debug) {
        return React.createElement(View, {
          style: {
            flex: 1
          }
        }, ret, this._renderDebugOverlay());
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props9 = this.props,
          data = _this$props9.data,
          extraData = _this$props9.extraData;

      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._hasDataChangedSinceEndReached = true;

        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }

      this._scheduleCellsToRenderUpdate();
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);
    }
  }, {
    key: "_onCellLayout",
    value: function _onCellLayout(e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: this._selectOffset(layout),
        length: this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = this._frames[cellKey];

      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        this._totalCellLength += next.length - (curr ? curr.length : 0);
        this._totalCellsMeasured += curr ? 0 : 1;
        this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;
        this._frames[cellKey] = next;
        this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);

        this._scheduleCellsToRenderUpdate();
      } else {
        this._frames[cellKey].inLayout = true;
      }

      var childListKeys = this._cellKeysToChildListKeys.get(cellKey);

      if (childListKeys) {
        for (var _iterator2 = childListKeys, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[typeof Symbol === "function" ? Symbol.iterator : "@@iterator"]();;) {
          var _ref7;

          if (_isArray2) {
            if (_i2 >= _iterator2.length) break;
            _ref7 = _iterator2[_i2++];
          } else {
            _i2 = _iterator2.next();
            if (_i2.done) break;
            _ref7 = _i2.value;
          }

          var _childKey2 = _ref7;

          var childList = this._nestedChildLists.get(_childKey2);

          childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
        }
      }

      this._computeBlankness();
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;

      try {
        UIManager.measureLayout(ReactNative.findNodeHandle(this), ReactNative.findNodeHandle(this.context.virtualizedList.getOutermostParentListRef()), function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        }, function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });

          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.virtualizedList.getScrollMetrics());

          _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
          _this4._scrollMetrics.offset = scrollMetrics.offset;
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / this._scrollMetrics.contentLength;
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);

      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._getFrameMetricsApprox(ii);

        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }

      var windowTop = this._getFrameMetricsApprox(this.state.first).offset;

      var frameLast = this._getFrameMetricsApprox(this.state.last);

      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      var baseStyle = {
        position: 'absolute',
        top: 0,
        right: 0
      };
      return React.createElement(View, {
        style: (0, _objectSpread2.default)({}, baseStyle, {
          bottom: 0,
          width: 20,
          borderColor: 'blue',
          borderWidth: 1
        })
      }, framesInLayout.map(function (f, ii) {
        return React.createElement(View, {
          key: 'f' + ii,
          style: (0, _objectSpread2.default)({}, baseStyle, {
            left: 0,
            top: f.offset * normalize,
            height: f.length * normalize,
            backgroundColor: 'orange'
          })
        });
      }), React.createElement(View, {
        style: (0, _objectSpread2.default)({}, baseStyle, {
          left: 0,
          top: windowTop * normalize,
          height: windowLen * normalize,
          borderColor: 'green',
          borderWidth: 2
        })
      }), React.createElement(View, {
        style: (0, _objectSpread2.default)({}, baseStyle, {
          left: 0,
          top: visTop * normalize,
          height: visLen * normalize,
          borderColor: 'red',
          borderWidth: 2
        })
      }));
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !this.props.horizontal ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !this.props.horizontal ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEndReached",
    value: function _maybeCallOnEndReached() {
      var _this$props10 = this.props,
          data = _this$props10.data,
          getItemCount = _this$props10.getItemCount,
          onEndReached = _this$props10.onEndReached,
          onEndReachedThreshold = _this$props10.onEndReachedThreshold;
      var _this$_scrollMetrics2 = this._scrollMetrics,
          contentLength = _this$_scrollMetrics2.contentLength,
          visibleLength = _this$_scrollMetrics2.visibleLength,
          offset = _this$_scrollMetrics2.offset;
      var distanceFromEnd = contentLength - visibleLength - offset;

      if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < onEndReachedThreshold * visibleLength && (this._hasDataChangedSinceEndReached || this._scrollMetrics.contentLength !== this._sentEndForContentLength)) {
        this._hasDataChangedSinceEndReached = false;
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state2 = this.state,
          first = _this$state2.first,
          last = _this$state2.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
          offset = _this$_scrollMetrics3.offset,
          visibleLength = _this$_scrollMetrics3.visibleLength,
          velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var scrollingThreshold = this.props.onEndReachedThreshold * visibleLength / 2;

      if (first > 0) {
        var distTop = offset - this._getFrameMetricsApprox(first).offset;

        hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
      }

      if (last < itemCount - 1) {
        var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);
        hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
      }

      if (hiPri && this._averageCellLength) {
        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });

        this._updateCellsToRender();

        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(data) {
      var _this5 = this;

      var getItemCount = this.props.getItemCount;

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(getItemCount(data), _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, _this5.state);
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var data = newProps.data,
          extraData = newProps.extraData,
          getItemCount = newProps.getItemCount,
          maxToRenderPerBatch = newProps.maxToRenderPerBatch;
      return {
        first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),
        last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))
      };
    }
  }]);
  return VirtualizedList;
}(React.PureComponent);

(0, _defineProperty2.default)(VirtualizedList, "defaultProps", {
  disableVirtualization: false,
  horizontal: false,
  initialNumToRender: 10,
  keyExtractor: function keyExtractor(item, index) {
    if (item.key != null) {
      return item.key;
    }

    _usedIndexForKey = true;

    if (item.type && item.type.displayName) {
      _keylessItemComponentName = item.type.displayName;
    }

    return String(index);
  },
  maxToRenderPerBatch: 10,
  onEndReachedThreshold: 2,
  scrollEventThrottle: 50,
  updateCellsBatchingPeriod: 50,
  windowSize: 21
});
(0, _defineProperty2.default)(VirtualizedList, "contextTypes", {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  }),
  virtualizedList: PropTypes.shape({
    getScrollMetrics: PropTypes.func,
    horizontal: PropTypes.bool,
    getOutermostParentListRef: PropTypes.func,
    getNestedChildState: PropTypes.func,
    registerAsNestedChild: PropTypes.func,
    unregisterAsNestedChild: PropTypes.func
  })
});
(0, _defineProperty2.default)(VirtualizedList, "childContextTypes", {
  virtualizedList: PropTypes.shape({
    getScrollMetrics: PropTypes.func,
    horizontal: PropTypes.bool,
    getOutermostParentListRef: PropTypes.func,
    getNestedChildState: PropTypes.func,
    registerAsNestedChild: PropTypes.func,
    unregisterAsNestedChild: PropTypes.func
  })
});

var CellRenderer = function (_React$Component) {
  (0, _inherits2.default)(CellRenderer, _React$Component);

  function CellRenderer() {
    var _getPrototypeOf2;

    var _this6;

    (0, _classCallCheck2.default)(this, CellRenderer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this6 = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(CellRenderer)).call.apply(_getPrototypeOf2, [this].concat(args)));
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this6), "state", {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item
      }
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this6), "_separators", {
      highlight: function highlight() {
        var _this6$props = _this6.props,
            cellKey = _this6$props.cellKey,
            prevCellKey = _this6$props.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true
        });
      },
      unhighlight: function unhighlight() {
        var _this6$props2 = _this6.props,
            cellKey = _this6$props2.cellKey,
            prevCellKey = _this6$props2.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false
        });
      },
      updateProps: function updateProps(select, newProps) {
        var _this6$props3 = _this6.props,
            cellKey = _this6$props3.cellKey,
            prevCellKey = _this6$props3.prevCellKey;

        _this6.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);
      }
    });
    return _this6;
  }

  (0, _createClass2.default)(CellRenderer, [{
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedCell: {
          cellKey: this.props.cellKey
        }
      };
    }
  }, {
    key: "updateSeparatorProps",
    value: function updateSeparatorProps(newProps) {
      this.setState(function (state) {
        return {
          separatorProps: (0, _objectSpread2.default)({}, state.separatorProps, newProps)
        };
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.props.onUnmount(this.props.cellKey);
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props11 = this.props,
          CellRendererComponent = _this$props11.CellRendererComponent,
          ItemSeparatorComponent = _this$props11.ItemSeparatorComponent,
          fillRateHelper = _this$props11.fillRateHelper,
          horizontal = _this$props11.horizontal,
          item = _this$props11.item,
          index = _this$props11.index,
          inversionStyle = _this$props11.inversionStyle,
          parentProps = _this$props11.parentProps;
      var renderItem = parentProps.renderItem,
          getItemLayout = parentProps.getItemLayout;
      invariant(renderItem, 'no renderItem!');
      var element = renderItem({
        item: item,
        index: index,
        separators: this._separators
      });
      var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;
      var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);
      var cellStyle = inversionStyle ? horizontal ? [{
        flexDirection: 'row-reverse'
      }, inversionStyle] : [{
        flexDirection: 'column-reverse'
      }, inversionStyle] : horizontal ? [{
        flexDirection: 'row'
      }, inversionStyle] : inversionStyle;

      if (!CellRendererComponent) {
        return React.createElement(View, {
          style: cellStyle,
          onLayout: onLayout
        }, element, itemSeparator);
      }

      return React.createElement(CellRendererComponent, (0, _extends2.default)({}, this.props, {
        style: cellStyle,
        onLayout: onLayout
      }), element, itemSeparator);
    }
  }]);
  return CellRenderer;
}(React.Component);

(0, _defineProperty2.default)(CellRenderer, "childContextTypes", {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  })
});

var VirtualizedCellWrapper = function (_React$Component2) {
  (0, _inherits2.default)(VirtualizedCellWrapper, _React$Component2);

  function VirtualizedCellWrapper() {
    (0, _classCallCheck2.default)(this, VirtualizedCellWrapper);
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(VirtualizedCellWrapper).apply(this, arguments));
  }

  (0, _createClass2.default)(VirtualizedCellWrapper, [{
    key: "getChildContext",
    value: function getChildContext() {
      return {
        virtualizedCell: {
          cellKey: this.props.cellKey
        }
      };
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);
  return VirtualizedCellWrapper;
}(React.Component);

(0, _defineProperty2.default)(VirtualizedCellWrapper, "childContextTypes", {
  virtualizedCell: PropTypes.shape({
    cellKey: PropTypes.string
  })
});
var styles = StyleSheet.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJuYW1lcyI6WyJCYXRjaGluYXRvciIsInJlcXVpcmUiLCJGaWxsUmF0ZUhlbHBlciIsIlByb3BUeXBlcyIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJSZWZyZXNoQ29udHJvbCIsIlNjcm9sbFZpZXciLCJTdHlsZVNoZWV0IiwiVUlNYW5hZ2VyIiwiVmlldyIsIlZpZXdhYmlsaXR5SGVscGVyIiwiZmxhdHRlblN0eWxlIiwiaW5mb0xvZyIsImludmFyaWFudCIsIndhcm5pbmciLCJjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMiLCJfdXNlZEluZGV4Rm9yS2V5IiwiX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSIsIlZpcnR1YWxpemVkTGlzdCIsInBhcmFtcyIsImFuaW1hdGVkIiwidmVyeUxhc3QiLCJwcm9wcyIsImdldEl0ZW1Db3VudCIsImRhdGEiLCJmcmFtZSIsIl9nZXRGcmFtZU1ldHJpY3NBcHByb3giLCJvZmZzZXQiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwiX2Zvb3Rlckxlbmd0aCIsIl9zY3JvbGxNZXRyaWNzIiwidmlzaWJsZUxlbmd0aCIsIl9zY3JvbGxSZWYiLCJzY3JvbGxUbyIsImhvcml6b250YWwiLCJ4IiwieSIsImdldEl0ZW1MYXlvdXQiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJpbmRleCIsInZpZXdPZmZzZXQiLCJ2aWV3UG9zaXRpb24iLCJfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsImF2ZXJhZ2VJdGVtTGVuZ3RoIiwiX2F2ZXJhZ2VDZWxsTGVuZ3RoIiwiaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsIml0ZW0iLCJnZXRJdGVtIiwiaXRlbUNvdW50Iiwic2Nyb2xsVG9JbmRleCIsIl9uZXN0ZWRDaGlsZExpc3RzIiwiZm9yRWFjaCIsImNoaWxkTGlzdCIsInJlZiIsInJlY29yZEludGVyYWN0aW9uIiwiX3ZpZXdhYmlsaXR5VHVwbGVzIiwidCIsInZpZXdhYmlsaXR5SGVscGVyIiwiX3VwZGF0ZVZpZXdhYmxlSXRlbXMiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwic2V0TmF0aXZlUHJvcHMiLCJ2aXJ0dWFsaXplZExpc3QiLCJnZXRTY3JvbGxNZXRyaWNzIiwiX2dldFNjcm9sbE1ldHJpY3MiLCJnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJnZXROZXN0ZWRDaGlsZFN0YXRlIiwiX2dldE5lc3RlZENoaWxkU3RhdGUiLCJyZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwidW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjb250ZXh0IiwidmlydHVhbGl6ZWRDZWxsIiwiY2VsbEtleSIsIl9oYXNNb3JlIiwiX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbiIsImtleSIsImV4aXN0aW5nQ2hpbGREYXRhIiwiZ2V0Iiwic3RhdGUiLCJjaGlsZExpc3RzSW5DZWxsIiwiX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzIiwiU2V0IiwiYWRkIiwic2V0IiwiX2hhc0ludGVyYWN0ZWQiLCJrZXlzIiwibmV3UHJvcHMiLCJfY2VsbFJlZnMiLCJ1cGRhdGVTZXBhcmF0b3JQcm9wcyIsIk1hcCIsImNvbnRlbnRMZW5ndGgiLCJkT2Zmc2V0IiwiZHQiLCJ0aW1lc3RhbXAiLCJ2ZWxvY2l0eSIsIm9uUmVmcmVzaCIsInJlZnJlc2hpbmciLCJKU09OIiwic3RyaW5naWZ5IiwicmVmcmVzaENvbnRyb2wiLCJwcm9ncmVzc1ZpZXdPZmZzZXQiLCJjdXJyIiwiX2ZyYW1lcyIsImluTGF5b3V0IiwiZSIsIm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QiLCJfc2VsZWN0TGVuZ3RoIiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJvbkxheW91dCIsIl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUiLCJfbWF5YmVDYWxsT25FbmRSZWFjaGVkIiwiX2hlYWRlckxlbmd0aCIsIndpZHRoIiwiaGVpZ2h0IiwiaW5pdGlhbFNjcm9sbEluZGV4IiwiX2hhc0RvbmVJbml0aWFsU2Nyb2xsIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIm1ldHJpY3MiLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9vblNjcm9sbCIsIm9uU2Nyb2xsIiwidGltZVN0YW1wIiwibGF5b3V0TWVhc3VyZW1lbnQiLCJjb250ZW50U2l6ZSIsIl9zZWxlY3RPZmZzZXQiLCJjb250ZW50T2Zmc2V0IiwiX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzIiwiX2hhc1dhcm5lZCIsInBlcmYiLCJwcmV2RHQiLCJfZmlsbFJhdGVIZWxwZXIiLCJhY3RpdmF0ZSIsIl9jb21wdXRlQmxhbmtuZXNzIiwiX29uU2Nyb2xsQmVnaW5EcmFnIiwidHVwbGUiLCJvblNjcm9sbEJlZ2luRHJhZyIsIm9uU2Nyb2xsRW5kRHJhZyIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQiLCJfaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkIiwic2V0U3RhdGUiLCJuZXdTdGF0ZSIsImRpc3RhbmNlRnJvbUVuZCIsInJlbmRlckFoZWFkIiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsImZpcnN0IiwibGFzdCIsIm1pbiIsInNpemUiLCJuZXdGaXJzdCIsIm5ld0xhc3QiLCJpaSIsImNlbGxLZXlGb3JJbmRleCIsIl9pbmRpY2VzVG9LZXlzIiwiY2hpbGRMaXN0S2V5cyIsInNvbWVDaGlsZEhhc01vcmUiLCJjaGlsZEtleSIsImhhc01vcmUiLCJpc1ZpZXdhYmxlIiwia2V5RXh0cmFjdG9yIiwiX2dldEZyYW1lTWV0cmljcyIsIl9fREVWX18iLCJmcmFtZVR5cGUiLCJzaGFwZSIsIm51bWJlciIsImlzUmVxdWlyZWQiLCJjaGVja1Byb3BUeXBlcyIsIl9faXNOYXRpdmUiLCJ3aW5kb3dTaXplIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXIiLCJ1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kIiwidmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzIiwibWFwIiwicGFpciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsInB1c2giLCJpbml0aWFsU3RhdGUiLCJpbml0aWFsTnVtVG9SZW5kZXIiLCJzdG9yZWRTdGF0ZSIsImxpc3RLZXkiLCJfZ2V0Q2VsbEtleSIsImZyYW1lcyIsImRpc3Bvc2UiLCJhYm9ydCIsImRlYWN0aXZhdGVBbmRGbHVzaCIsImNlbGxzIiwic3RpY2t5SGVhZGVySW5kaWNlcyIsInN0aWNreUluZGljZXNGcm9tUHJvcHMiLCJpbnZlcnNpb25TdHlsZSIsIkNlbGxSZW5kZXJlckNvbXBvbmVudCIsIkl0ZW1TZXBhcmF0b3JDb21wb25lbnQiLCJzdGlja3lPZmZzZXQiLCJMaXN0SGVhZGVyQ29tcG9uZW50IiwiZW5kIiwicHJldkNlbGxLZXkiLCJoYXMiLCJ1bmRlZmluZWQiLCJfb25VcGRhdGVTZXBhcmF0b3JzIiwiX29uQ2VsbExheW91dCIsIl9vbkNlbGxVbm1vdW50IiwiZGlzYWJsZVZpcnR1YWxpemF0aW9uIiwibmVzdGVkQ29udGV4dCIsImZsYXRTdHlsZXMiLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJmbGV4V3JhcCIsIkxpc3RFbXB0eUNvbXBvbmVudCIsIkxpc3RGb290ZXJDb21wb25lbnQiLCJpbnZlcnRlZCIsInN0eWxlcyIsImhvcml6b250YWxseUludmVydGVkIiwidmVydGljYWxseUludmVydGVkIiwiZWxlbWVudCIsImlzVmFsaWRFbGVtZW50IiwiX29uTGF5b3V0SGVhZGVyIiwiY29tcG9zZSIsIkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSIsInNwYWNlcktleSIsImxhc3RJbml0aWFsSW5kZXgiLCJfcHVzaENlbGxzIiwiZmlyc3RBZnRlckluaXRpYWwiLCJpbnNlcnRlZFN0aWNreVNwYWNlciIsImluaXRCbG9jayIsInN0aWNreUJsb2NrIiwibGVhZFNwYWNlIiwidHJhaWxTcGFjZSIsImZpcnN0U3BhY2UiLCJjb25zb2xlIiwid2FybiIsImxhc3RGcmFtZSIsImVuZEZyYW1lIiwidGFpbFNwYWNlckxlbmd0aCIsImNsb25lRWxlbWVudCIsImV2ZW50IiwiX29uTGF5b3V0RW1wdHkiLCJzdHlsZSIsIl9vbkxheW91dEZvb3RlciIsIkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSIsInNjcm9sbFByb3BzIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJfb25MYXlvdXQiLCJfb25TY3JvbGxFbmREcmFnIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJzY3JvbGxFdmVudFRocm90dGxlIiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInJldCIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsIl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwiX2NhcHR1cmVTY3JvbGxSZWYiLCJkZWJ1ZyIsImZsZXgiLCJfcmVuZGVyRGVidWdPdmVybGF5IiwicHJldlByb3BzIiwiZXh0cmFEYXRhIiwiX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkIiwicmVzZXRWaWV3YWJsZUluZGljZXMiLCJjb21wdXRlQmxhbmtuZXNzIiwibmV4dCIsIl90b3RhbENlbGxMZW5ndGgiLCJfdG90YWxDZWxsc01lYXN1cmVkIiwibWVhc3VyZUxheW91dCIsImVycm9yIiwic2Nyb2xsTWV0cmljcyIsInN0YWNrIiwibm9ybWFsaXplIiwiZnJhbWVzSW5MYXlvdXQiLCJ3aW5kb3dUb3AiLCJmcmFtZUxhc3QiLCJ3aW5kb3dMZW4iLCJ2aXNUb3AiLCJ2aXNMZW4iLCJiYXNlU3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImYiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwib25FbmRSZWFjaGVkIiwiX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoIiwiaGlQcmkiLCJzY3JvbGxpbmdUaHJlc2hvbGQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsInNjaGVkdWxlIiwib25VcGRhdGUiLCJfY3JlYXRlVmlld1Rva2VuIiwicHJldlN0YXRlIiwiUHVyZUNvbXBvbmVudCIsInR5cGUiLCJkaXNwbGF5TmFtZSIsIlN0cmluZyIsInN0cmluZyIsImZ1bmMiLCJib29sIiwiQ2VsbFJlbmRlcmVyIiwic2VwYXJhdG9yUHJvcHMiLCJoaWdobGlnaHRlZCIsImxlYWRpbmdJdGVtIiwiaGlnaGxpZ2h0Iiwib25VcGRhdGVTZXBhcmF0b3JzIiwidW5oaWdobGlnaHQiLCJ1cGRhdGVQcm9wcyIsInNlbGVjdCIsIm9uVW5tb3VudCIsImZpbGxSYXRlSGVscGVyIiwicGFyZW50UHJvcHMiLCJyZW5kZXJJdGVtIiwic2VwYXJhdG9ycyIsIl9zZXBhcmF0b3JzIiwiZW5hYmxlZCIsIml0ZW1TZXBhcmF0b3IiLCJjZWxsU3R5bGUiLCJmbGV4RGlyZWN0aW9uIiwiQ29tcG9uZW50IiwiVmlydHVhbGl6ZWRDZWxsV3JhcHBlciIsImNoaWxkcmVuIiwiY3JlYXRlIiwidHJhbnNmb3JtIiwic2NhbGVZIiwic2NhbGVYIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBU0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxXQUFXLEdBQUdDLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUNBLElBQU1DLGNBQWMsR0FBR0QsT0FBTyxDQUFDLGdCQUFELENBQTlCOztBQUNBLElBQU1FLFNBQVMsR0FBR0YsT0FBTyxDQUFDLFlBQUQsQ0FBekI7O0FBQ0EsSUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFDQSxJQUFNSSxXQUFXLEdBQUdKLE9BQU8sQ0FBQyxhQUFELENBQTNCOztBQUNBLElBQU1LLGNBQWMsR0FBR0wsT0FBTyxDQUFDLGdCQUFE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Z2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBCYXRjaGluYXRvciA9IHJlcXVpcmUoJ0JhdGNoaW5hdG9yJyk7XG5jb25zdCBGaWxsUmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0ZpbGxSYXRlSGVscGVyJyk7XG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ1JlYWN0Jyk7XG5jb25zdCBSZWFjdE5hdGl2ZSA9IHJlcXVpcmUoJ1JlYWN0TmF0aXZlJyk7XG5jb25zdCBSZWZyZXNoQ29udHJvbCA9IHJlcXVpcmUoJ1JlZnJlc2hDb250cm9sJyk7XG5jb25zdCBTY3JvbGxWaWV3ID0gcmVxdWlyZSgnU2Nyb2xsVmlldycpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJ1N0eWxlU2hlZXQnKTtcbmNvbnN0IFVJTWFuYWdlciA9IHJlcXVpcmUoJ1VJTWFuYWdlcicpO1xuY29uc3QgVmlldyA9IHJlcXVpcmUoJ1ZpZXcnKTtcbmNvbnN0IFZpZXdhYmlsaXR5SGVscGVyID0gcmVxdWlyZSgnVmlld2FiaWxpdHlIZWxwZXInKTtcblxuY29uc3QgZmxhdHRlblN0eWxlID0gcmVxdWlyZSgnZmxhdHRlblN0eWxlJyk7XG5jb25zdCBpbmZvTG9nID0gcmVxdWlyZSgnaW5mb0xvZycpO1xuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4vKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3JcbiAqIGZvdW5kIHdoZW4gRmxvdyB2MC41NCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmRcbiAqIHJ1biBGbG93LiAqL1xuY29uc3Qgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuY29uc3Qge2NvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0c30gPSByZXF1aXJlKCdWaXJ0dWFsaXplVXRpbHMnKTtcblxuaW1wb3J0IHR5cGUge0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wLCBWaWV3U3R5bGVQcm9wfSBmcm9tICdTdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtcbiAgVmlld2FiaWxpdHlDb25maWcsXG4gIFZpZXdUb2tlbixcbiAgVmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXIsXG59IGZyb20gJ1ZpZXdhYmlsaXR5SGVscGVyJztcblxudHlwZSBJdGVtID0gYW55O1xuXG5leHBvcnQgdHlwZSByZW5kZXJJdGVtVHlwZSA9IChpbmZvOiBhbnkpID0+ID9SZWFjdC5FbGVtZW50PGFueT47XG5cbnR5cGUgVmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlID0ge1xuICB2aWV3YWJpbGl0eUhlbHBlcjogVmlld2FiaWxpdHlIZWxwZXIsXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IChpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICB9KSA9PiB2b2lkLFxufTtcblxudHlwZSBSZXF1aXJlZFByb3BzID0ge1xuICAvLyBUT0RPOiBDb25mbGljdHMgd2l0aCB0aGUgb3B0aW9uYWwgYHJlbmRlckl0ZW1gIGluXG4gIC8vIGBWaXJ0dWFsaXplZFNlY3Rpb25MaXN0YCdzIHByb3BzLlxuICByZW5kZXJJdGVtOiAkRmxvd0ZpeE1lPHJlbmRlckl0ZW1UeXBlPixcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGFjY2Vzc29yIGZ1bmN0aW9ucyBhc3N1bWUgdGhpcyBpcyBhbiBBcnJheTx7a2V5OiBzdHJpbmd9PiBidXQgeW91IGNhbiBvdmVycmlkZVxuICAgKiBnZXRJdGVtLCBnZXRJdGVtQ291bnQsIGFuZCBrZXlFeHRyYWN0b3IgdG8gaGFuZGxlIGFueSB0eXBlIG9mIGluZGV4LWJhc2VkIGRhdGEuXG4gICAqL1xuICBkYXRhPzogYW55LFxuICAvKipcbiAgICogQSBnZW5lcmljIGFjY2Vzc29yIGZvciBleHRyYWN0aW5nIGFuIGl0ZW0gZnJvbSBhbnkgc29ydCBvZiBkYXRhIGJsb2IuXG4gICAqL1xuICBnZXRJdGVtOiAoZGF0YTogYW55LCBpbmRleDogbnVtYmVyKSA9PiA/SXRlbSxcbiAgLyoqXG4gICAqIERldGVybWluZXMgaG93IG1hbnkgaXRlbXMgYXJlIGluIHRoZSBkYXRhIGJsb2IuXG4gICAqL1xuICBnZXRJdGVtQ291bnQ6IChkYXRhOiBhbnkpID0+IG51bWJlcixcbn07XG50eXBlIE9wdGlvbmFsUHJvcHMgPSB7XG4gIC8qKlxuICAgKiBgZGVidWdgIHdpbGwgdHVybiBvbiBleHRyYSBsb2dnaW5nIGFuZCB2aXN1YWwgb3ZlcmxheXMgdG8gYWlkIHdpdGggZGVidWdnaW5nIGJvdGggdXNhZ2UgYW5kXG4gICAqIGltcGxlbWVudGF0aW9uLCBidXQgd2l0aCBhIHNpZ25pZmljYW50IHBlcmYgaGl0LlxuICAgKi9cbiAgZGVidWc/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIERFUFJFQ0FURUQ6IFZpcnR1YWxpemF0aW9uIHByb3ZpZGVzIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGFuZCBtZW1vcnkgb3B0aW1pemF0aW9ucywgYnV0IGZ1bGx5XG4gICAqIHVubW91bnRzIHJlYWN0IGluc3RhbmNlcyB0aGF0IGFyZSBvdXRzaWRlIG9mIHRoZSByZW5kZXIgd2luZG93LiBZb3Ugc2hvdWxkIG9ubHkgbmVlZCB0byBkaXNhYmxlXG4gICAqIHRoaXMgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICovXG4gIGRpc2FibGVWaXJ0dWFsaXphdGlvbjogYm9vbGVhbixcbiAgLyoqXG4gICAqIEEgbWFya2VyIHByb3BlcnR5IGZvciB0ZWxsaW5nIHRoZSBsaXN0IHRvIHJlLXJlbmRlciAoc2luY2UgaXQgaW1wbGVtZW50cyBgUHVyZUNvbXBvbmVudGApLiBJZlxuICAgKiBhbnkgb2YgeW91ciBgcmVuZGVySXRlbWAsIEhlYWRlciwgRm9vdGVyLCBldGMuIGZ1bmN0aW9ucyBkZXBlbmQgb24gYW55dGhpbmcgb3V0c2lkZSBvZiB0aGVcbiAgICogYGRhdGFgIHByb3AsIHN0aWNrIGl0IGhlcmUgYW5kIHRyZWF0IGl0IGltbXV0YWJseS5cbiAgICovXG4gIGV4dHJhRGF0YT86IGFueSxcbiAgZ2V0SXRlbUxheW91dD86IChcbiAgICBkYXRhOiBhbnksXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKSA9PiB7bGVuZ3RoOiBudW1iZXIsIG9mZnNldDogbnVtYmVyLCBpbmRleDogbnVtYmVyfSwgLy8gZS5nLiBoZWlnaHQsIHlcbiAgaG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogSG93IG1hbnkgaXRlbXMgdG8gcmVuZGVyIGluIHRoZSBpbml0aWFsIGJhdGNoLiBUaGlzIHNob3VsZCBiZSBlbm91Z2ggdG8gZmlsbCB0aGUgc2NyZWVuIGJ1dCBub3RcbiAgICogbXVjaCBtb3JlLiBOb3RlIHRoZXNlIGl0ZW1zIHdpbGwgbmV2ZXIgYmUgdW5tb3VudGVkIGFzIHBhcnQgb2YgdGhlIHdpbmRvd2VkIHJlbmRlcmluZyBpbiBvcmRlclxuICAgKiB0byBpbXByb3ZlIHBlcmNlaXZlZCBwZXJmb3JtYW5jZSBvZiBzY3JvbGwtdG8tdG9wIGFjdGlvbnMuXG4gICAqL1xuICBpbml0aWFsTnVtVG9SZW5kZXI6IG51bWJlcixcbiAgLyoqXG4gICAqIEluc3RlYWQgb2Ygc3RhcnRpbmcgYXQgdGhlIHRvcCB3aXRoIHRoZSBmaXJzdCBpdGVtLCBzdGFydCBhdCBgaW5pdGlhbFNjcm9sbEluZGV4YC4gVGhpc1xuICAgKiBkaXNhYmxlcyB0aGUgXCJzY3JvbGwgdG8gdG9wXCIgb3B0aW1pemF0aW9uIHRoYXQga2VlcHMgdGhlIGZpcnN0IGBpbml0aWFsTnVtVG9SZW5kZXJgIGl0ZW1zXG4gICAqIGFsd2F5cyByZW5kZXJlZCBhbmQgaW1tZWRpYXRlbHkgcmVuZGVycyB0aGUgaXRlbXMgc3RhcnRpbmcgYXQgdGhpcyBpbml0aWFsIGluZGV4LiBSZXF1aXJlc1xuICAgKiBgZ2V0SXRlbUxheW91dGAgdG8gYmUgaW1wbGVtZW50ZWQuXG4gICAqL1xuICBpbml0aWFsU2Nyb2xsSW5kZXg/OiA/bnVtYmVyLFxuICAvKipcbiAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBzY3JvbGwuIFVzZXMgc2NhbGUgdHJhbnNmb3JtcyBvZiAtMS5cbiAgICovXG4gIGludmVydGVkPzogP2Jvb2xlYW4sXG4gIGtleUV4dHJhY3RvcjogKGl0ZW06IEl0ZW0sIGluZGV4OiBudW1iZXIpID0+IHN0cmluZyxcbiAgLyoqXG4gICAqIEVhY2ggY2VsbCBpcyByZW5kZXJlZCB1c2luZyB0aGlzIGVsZW1lbnQuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcyxcbiAgICogb3IgYSByZW5kZXIgZnVuY3Rpb24uIERlZmF1bHRzIHRvIHVzaW5nIFZpZXcuXG4gICAqL1xuICBDZWxsUmVuZGVyZXJDb21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICAvKipcbiAgICogUmVuZGVyZWQgd2hlbiB0aGUgbGlzdCBpcyBlbXB0eS4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEVtcHR5Q29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogUmVuZGVyZWQgYXQgdGhlIGJvdHRvbSBvZiBhbGwgdGhlIGl0ZW1zLiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsIGEgcmVuZGVyIGZ1bmN0aW9uLCBvclxuICAgKiBhIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICBMaXN0Rm9vdGVyQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogU3R5bGluZyBmb3IgaW50ZXJuYWwgVmlldyBmb3IgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgKi9cbiAgTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlPzogVmlld1N0eWxlUHJvcCxcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSB0b3Agb2YgYWxsIHRoZSBpdGVtcy4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEhlYWRlckNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFN0eWxpbmcgZm9yIGludGVybmFsIFZpZXcgZm9yIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICovXG4gIExpc3RIZWFkZXJDb21wb25lbnRTdHlsZT86IFZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGxpc3QuIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBWaXJ0dWFsaXplZExpc3RzIGF0IHRoZSBzYW1lIGxldmVsIG9mXG4gICAqIG5lc3Rpbmcgd2l0aGluIGFub3RoZXIgVmlydHVhbGl6ZWRMaXN0LCB0aGlzIGtleSBpcyBuZWNlc3NhcnkgZm9yIHZpcnR1YWxpemF0aW9uIHRvXG4gICAqIHdvcmsgcHJvcGVybHkuXG4gICAqL1xuICBsaXN0S2V5Pzogc3RyaW5nLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJlbmRlciBpbiBlYWNoIGluY3JlbWVudGFsIHJlbmRlciBiYXRjaC4gVGhlIG1vcmUgcmVuZGVyZWQgYXRcbiAgICogb25jZSwgdGhlIGJldHRlciB0aGUgZmlsbCByYXRlLCBidXQgcmVzcG9uc2l2ZW5lc3MgbXkgc3VmZmVyIGJlY2F1c2UgcmVuZGVyaW5nIGNvbnRlbnQgbWF5XG4gICAqIGludGVyZmVyZSB3aXRoIHJlc3BvbmRpbmcgdG8gYnV0dG9uIHRhcHMgb3Igb3RoZXIgaW50ZXJhY3Rpb25zLlxuICAgKi9cbiAgbWF4VG9SZW5kZXJQZXJCYXRjaDogbnVtYmVyLFxuICBvbkVuZFJlYWNoZWQ/OiA/KGluZm86IHtkaXN0YW5jZUZyb21FbmQ6IG51bWJlcn0pID0+IHZvaWQsXG4gIG9uRW5kUmVhY2hlZFRocmVzaG9sZD86ID9udW1iZXIsIC8vIHVuaXRzIG9mIHZpc2libGUgbGVuZ3RoXG4gIG9uTGF5b3V0PzogP0Z1bmN0aW9uLFxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIGEgc3RhbmRhcmQgUmVmcmVzaENvbnRyb2wgd2lsbCBiZSBhZGRlZCBmb3IgXCJQdWxsIHRvIFJlZnJlc2hcIiBmdW5jdGlvbmFsaXR5LiBNYWtlXG4gICAqIHN1cmUgdG8gYWxzbyBzZXQgdGhlIGByZWZyZXNoaW5nYCBwcm9wIGNvcnJlY3RseS5cbiAgICovXG4gIG9uUmVmcmVzaD86ID9GdW5jdGlvbixcbiAgLyoqXG4gICAqIFVzZWQgdG8gaGFuZGxlIGZhaWx1cmVzIHdoZW4gc2Nyb2xsaW5nIHRvIGFuIGluZGV4IHRoYXQgaGFzIG5vdCBiZWVuIG1lYXN1cmVkIHlldC4gUmVjb21tZW5kZWRcbiAgICogYWN0aW9uIGlzIHRvIGVpdGhlciBjb21wdXRlIHlvdXIgb3duIG9mZnNldCBhbmQgYHNjcm9sbFRvYCBpdCwgb3Igc2Nyb2xsIGFzIGZhciBhcyBwb3NzaWJsZSBhbmRcbiAgICogdGhlbiB0cnkgYWdhaW4gYWZ0ZXIgbW9yZSBpdGVtcyBoYXZlIGJlZW4gcmVuZGVyZWQuXG4gICAqL1xuICBvblNjcm9sbFRvSW5kZXhGYWlsZWQ/OiA/KGluZm86IHtcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXg6IG51bWJlcixcbiAgICBhdmVyYWdlSXRlbUxlbmd0aDogbnVtYmVyLFxuICB9KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHZpZXdhYmlsaXR5IG9mIHJvd3MgY2hhbmdlcywgYXMgZGVmaW5lZCBieSB0aGVcbiAgICogYHZpZXdhYmlsaXR5Q29uZmlnYCBwcm9wLlxuICAgKi9cbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZD86ID8oaW5mbzoge1xuICAgIHZpZXdhYmxlSXRlbXM6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgY2hhbmdlZDogQXJyYXk8Vmlld1Rva2VuPixcbiAgfSkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIFNldCB0aGlzIHdoZW4gb2Zmc2V0IGlzIG5lZWRlZCBmb3IgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIHRvIHNob3cgY29ycmVjdGx5LlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcHJvZ3Jlc3NWaWV3T2Zmc2V0PzogbnVtYmVyLFxuICAvKipcbiAgICogQSBjdXN0b20gcmVmcmVzaCBjb250cm9sIGVsZW1lbnQuIFdoZW4gc2V0LCBpdCBvdmVycmlkZXMgdGhlIGRlZmF1bHRcbiAgICogPFJlZnJlc2hDb250cm9sPiBjb21wb25lbnQgYnVpbHQgaW50ZXJuYWxseS4gVGhlIG9uUmVmcmVzaCBhbmQgcmVmcmVzaGluZ1xuICAgKiBwcm9wcyBhcmUgYWxzbyBpZ25vcmVkLiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBWaXJ0dWFsaXplZExpc3QuXG4gICAqL1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0cnVlIHdoaWxlIHdhaXRpbmcgZm9yIG5ldyBkYXRhIGZyb20gYSByZWZyZXNoLlxuICAgKi9cbiAgcmVmcmVzaGluZz86ID9ib29sZWFuLFxuICAvKipcbiAgICogTm90ZTogbWF5IGhhdmUgYnVncyAobWlzc2luZyBjb250ZW50KSBpbiBzb21lIGNpcmN1bXN0YW5jZXMgLSB1c2UgYXQgeW91ciBvd24gcmlzay5cbiAgICpcbiAgICogVGhpcyBtYXkgaW1wcm92ZSBzY3JvbGwgcGVyZm9ybWFuY2UgZm9yIGxhcmdlIGxpc3RzLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogYm9vbGVhbixcbiAgLyoqXG4gICAqIFJlbmRlciBhIGN1c3RvbSBzY3JvbGwgY29tcG9uZW50LCBlLmcuIHdpdGggYSBkaWZmZXJlbnRseSBzdHlsZWQgYFJlZnJlc2hDb250cm9sYC5cbiAgICovXG4gIHJlbmRlclNjcm9sbENvbXBvbmVudD86IChwcm9wczogT2JqZWN0KSA9PiBSZWFjdC5FbGVtZW50PGFueT4sXG4gIC8qKlxuICAgKiBBbW91bnQgb2YgdGltZSBiZXR3ZWVuIGxvdy1wcmkgaXRlbSByZW5kZXIgYmF0Y2hlcywgZS5nLiBmb3IgcmVuZGVyaW5nIGl0ZW1zIHF1aXRlIGEgd2F5cyBvZmZcbiAgICogc2NyZWVuLiBTaW1pbGFyIGZpbGwgcmF0ZS9yZXNwb25zaXZlbmVzcyB0cmFkZW9mZiBhcyBgbWF4VG9SZW5kZXJQZXJCYXRjaGAuXG4gICAqL1xuICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiBudW1iZXIsXG4gIHZpZXdhYmlsaXR5Q29uZmlnPzogVmlld2FiaWxpdHlDb25maWcsXG4gIC8qKlxuICAgKiBMaXN0IG9mIFZpZXdhYmlsaXR5Q29uZmlnL29uVmlld2FibGVJdGVtc0NoYW5nZWQgcGFpcnMuIEEgc3BlY2lmaWMgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZFxuICAgKiB3aWxsIGJlIGNhbGxlZCB3aGVuIGl0cyBjb3JyZXNwb25kaW5nIFZpZXdhYmlsaXR5Q29uZmlnJ3MgY29uZGl0aW9ucyBhcmUgbWV0LlxuICAgKi9cbiAgdmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzPzogQXJyYXk8Vmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXI+LFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgdmlzaWJsZSBhcmVhLCBpbiB1bml0cyBvZlxuICAgKiB2aXNpYmxlIGxlbmd0aHMuIFNvIGlmIHlvdXIgbGlzdCBmaWxscyB0aGUgc2NyZWVuLCB0aGVuIGB3aW5kb3dTaXplPXsyMX1gICh0aGUgZGVmYXVsdCkgd2lsbFxuICAgKiByZW5kZXIgdGhlIHZpc2libGUgc2NyZWVuIGFyZWEgcGx1cyB1cCB0byAxMCBzY3JlZW5zIGFib3ZlIGFuZCAxMCBiZWxvdyB0aGUgdmlld3BvcnQuIFJlZHVjaW5nXG4gICAqIHRoaXMgbnVtYmVyIHdpbGwgcmVkdWNlIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgbWF5IGltcHJvdmUgcGVyZm9ybWFuY2UsIGJ1dCB3aWxsIGluY3JlYXNlIHRoZVxuICAgKiBjaGFuY2UgdGhhdCBmYXN0IHNjcm9sbGluZyBtYXkgcmV2ZWFsIG1vbWVudGFyeSBibGFuayBhcmVhcyBvZiB1bnJlbmRlcmVkIGNvbnRlbnQuXG4gICAqL1xuICB3aW5kb3dTaXplOiBudW1iZXIsXG59O1xuLyogJEZsb3dGaXhNZSAtIHRoaXMgUHJvcHMgc2VlbXMgdG8gYmUgbWlzc2luZyBhIGJ1bmNoIG9mIHN0dWZmLiBSZW1vdmUgdGhpc1xuICogY29tbWVudCB0byBzZWUgdGhlIGVycm9ycyAqL1xuZXhwb3J0IHR5cGUgUHJvcHMgPSBSZXF1aXJlZFByb3BzICYgT3B0aW9uYWxQcm9wcztcblxubGV0IF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbmxldCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lOiBzdHJpbmcgPSAnJztcblxudHlwZSBGcmFtZSA9IHtcbiAgb2Zmc2V0OiBudW1iZXIsXG4gIGxlbmd0aDogbnVtYmVyLFxuICBpbmRleDogbnVtYmVyLFxuICBpbkxheW91dDogYm9vbGVhbixcbn07XG5cbnR5cGUgQ2hpbGRMaXN0U3RhdGUgPSB7XG4gIGZpcnN0OiBudW1iZXIsXG4gIGxhc3Q6IG51bWJlcixcbiAgZnJhbWVzOiB7W2tleTogbnVtYmVyXTogRnJhbWV9LFxufTtcblxudHlwZSBTdGF0ZSA9IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9O1xuXG4vKipcbiAqIEJhc2UgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBtb3JlIGNvbnZlbmllbnQgW2A8RmxhdExpc3Q+YF0oL3JlYWN0LW5hdGl2ZS9kb2NzL2ZsYXRsaXN0Lmh0bWwpXG4gKiBhbmQgW2A8U2VjdGlvbkxpc3Q+YF0oL3JlYWN0LW5hdGl2ZS9kb2NzL3NlY3Rpb25saXN0Lmh0bWwpIGNvbXBvbmVudHMsIHdoaWNoIGFyZSBhbHNvIGJldHRlclxuICogZG9jdW1lbnRlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSByZWFsbHkgYmUgdXNlZCBpZiB5b3UgbmVlZCBtb3JlIGZsZXhpYmlsaXR5IHRoYW5cbiAqIGBGbGF0TGlzdGAgcHJvdmlkZXMsIGUuZy4gZm9yIHVzZSB3aXRoIGltbXV0YWJsZSBkYXRhIGluc3RlYWQgb2YgcGxhaW4gYXJyYXlzLlxuICpcbiAqIFZpcnR1YWxpemF0aW9uIG1hc3NpdmVseSBpbXByb3ZlcyBtZW1vcnkgY29uc3VtcHRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIGxhcmdlIGxpc3RzIGJ5XG4gKiBtYWludGFpbmluZyBhIGZpbml0ZSByZW5kZXIgd2luZG93IG9mIGFjdGl2ZSBpdGVtcyBhbmQgcmVwbGFjaW5nIGFsbCBpdGVtcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJcbiAqIHdpbmRvdyB3aXRoIGFwcHJvcHJpYXRlbHkgc2l6ZWQgYmxhbmsgc3BhY2UuIFRoZSB3aW5kb3cgYWRhcHRzIHRvIHNjcm9sbGluZyBiZWhhdmlvciwgYW5kIGl0ZW1zXG4gKiBhcmUgcmVuZGVyZWQgaW5jcmVtZW50YWxseSB3aXRoIGxvdy1wcmkgKGFmdGVyIGFueSBydW5uaW5nIGludGVyYWN0aW9ucykgaWYgdGhleSBhcmUgZmFyIGZyb20gdGhlXG4gKiB2aXNpYmxlIGFyZWEsIG9yIHdpdGggaGktcHJpIG90aGVyd2lzZSB0byBtaW5pbWl6ZSB0aGUgcG90ZW50aWFsIG9mIHNlZWluZyBibGFuayBzcGFjZS5cbiAqXG4gKiBTb21lIGNhdmVhdHM6XG4gKlxuICogLSBJbnRlcm5hbCBzdGF0ZSBpcyBub3QgcHJlc2VydmVkIHdoZW4gY29udGVudCBzY3JvbGxzIG91dCBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gTWFrZSBzdXJlIGFsbFxuICogICB5b3VyIGRhdGEgaXMgY2FwdHVyZWQgaW4gdGhlIGl0ZW0gZGF0YSBvciBleHRlcm5hbCBzdG9yZXMgbGlrZSBGbHV4LCBSZWR1eCwgb3IgUmVsYXkuXG4gKiAtIFRoaXMgaXMgYSBgUHVyZUNvbXBvbmVudGAgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIG5vdCByZS1yZW5kZXIgaWYgYHByb3BzYCByZW1haW4gc2hhbGxvdy1cbiAqICAgZXF1YWwuIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgeW91ciBgcmVuZGVySXRlbWAgZnVuY3Rpb24gZGVwZW5kcyBvbiBpcyBwYXNzZWQgYXMgYSBwcm9wXG4gKiAgIChlLmcuIGBleHRyYURhdGFgKSB0aGF0IGlzIG5vdCBgPT09YCBhZnRlciB1cGRhdGVzLCBvdGhlcndpc2UgeW91ciBVSSBtYXkgbm90IHVwZGF0ZSBvblxuICogICBjaGFuZ2VzLiBUaGlzIGluY2x1ZGVzIHRoZSBgZGF0YWAgcHJvcCBhbmQgcGFyZW50IGNvbXBvbmVudCBzdGF0ZS5cbiAqIC0gSW4gb3JkZXIgdG8gY29uc3RyYWluIG1lbW9yeSBhbmQgZW5hYmxlIHNtb290aCBzY3JvbGxpbmcsIGNvbnRlbnQgaXMgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHlcbiAqICAgb2Zmc2NyZWVuLiBUaGlzIG1lYW5zIGl0J3MgcG9zc2libGUgdG8gc2Nyb2xsIGZhc3RlciB0aGFuIHRoZSBmaWxsIHJhdGUgYW5kcyBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIHByb3Agb24gZWFjaCBpdGVtIGFuZCB1c2VzIHRoYXQgZm9yIHRoZSBSZWFjdCBrZXkuXG4gKiAgIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBga2V5RXh0cmFjdG9yYCBwcm9wLlxuICpcbiAqL1xuY2xhc3MgVmlydHVhbGl6ZWRMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgcHJvcHM6IFByb3BzO1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0VuZChwYXJhbXM/OiA/e2FuaW1hdGVkPzogP2Jvb2xlYW59KSB7XG4gICAgY29uc3QgYW5pbWF0ZWQgPSBwYXJhbXMgPyBwYXJhbXMuYW5pbWF0ZWQgOiB0cnVlO1xuICAgIGNvbnN0IHZlcnlMYXN0ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godmVyeUxhc3QpO1xuICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIGZyYW1lLm9mZnNldCArXG4gICAgICAgIGZyYW1lLmxlbmd0aCArXG4gICAgICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCAtXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICApO1xuICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuIFRvIHNlZSB0aGVcbiAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXNcbiAgICAgICAqIGNvbW1lbnQgc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuXG4gICAgICAgKiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0luZGV4KHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgfSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7YW5pbWF0ZWQsIGluZGV4LCB2aWV3T2Zmc2V0LCB2aWV3UG9zaXRpb259ID0gcGFyYW1zO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4ID49IDAgJiYgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6ICR7aW5kZXh9IHZzICR7Z2V0SXRlbUNvdW50KGRhdGEpIC0gMX1gLFxuICAgICk7XG4gICAgaWYgKCFnZXRJdGVtTGF5b3V0ICYmIGluZGV4ID4gdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICAgICAgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArXG4gICAgICAgICAgJ290aGVyd2lzZSB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB0aGUgbG9jYXRpb24gb2Ygb2Zmc2NyZWVuIGluZGljZXMgb3IgaGFuZGxlIGZhaWx1cmVzLicsXG4gICAgICApO1xuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkKHtcbiAgICAgICAgYXZlcmFnZUl0ZW1MZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4OiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4LFxuICAgICAgICBpbmRleCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpbmRleCk7XG4gICAgY29uc3Qgb2Zmc2V0ID1cbiAgICAgIE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBmcmFtZS5vZmZzZXQgLVxuICAgICAgICAgICh2aWV3UG9zaXRpb24gfHwgMCkgKlxuICAgICAgICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAtIGZyYW1lLmxlbmd0aCksXG4gICAgICApIC0gKHZpZXdPZmZzZXQgfHwgMCk7XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC4gVG8gc2VlIHRoZVxuICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpc1xuICAgICAgICogY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC5cbiAgICAgICAqIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0l0ZW0gbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wLiBSZXF1aXJlZCBsaW5lYXIgc2NhbiB0aHJvdWdoIGl0ZW1zIC1cbiAgLy8gdXNlIHNjcm9sbFRvSW5kZXggaW5zdGVhZCBpZiBwb3NzaWJsZS5cbiAgc2Nyb2xsVG9JdGVtKHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaXRlbTogSXRlbSxcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gIH0pIHtcbiAgICBjb25zdCB7aXRlbX0gPSBwYXJhbXM7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoZ2V0SXRlbShkYXRhLCBpbmRleCkgPT09IGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHsuLi5wYXJhbXMsIGluZGV4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBjb250ZW50IHBpeGVsIG9mZnNldCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogUGFyYW0gYG9mZnNldGAgZXhwZWN0cyB0aGUgb2Zmc2V0IHRvIHNjcm9sbCB0by5cbiAgICogSW4gY2FzZSBvZiBgaG9yaXpvbnRhbGAgaXMgdHJ1ZSwgdGhlIG9mZnNldCBpcyB0aGUgeC12YWx1ZSxcbiAgICogaW4gYW55IG90aGVyIGNhc2UgdGhlIG9mZnNldCBpcyB0aGUgeS12YWx1ZS5cbiAgICpcbiAgICogUGFyYW0gYGFuaW1hdGVkYCAoYHRydWVgIGJ5IGRlZmF1bHQpIGRlZmluZXMgd2hldGhlciB0aGUgbGlzdFxuICAgKiBzaG91bGQgZG8gYW4gYW5pbWF0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIHNjcm9sbFRvT2Zmc2V0KHBhcmFtczoge2FuaW1hdGVkPzogP2Jvb2xlYW4sIG9mZnNldDogbnVtYmVyfSkge1xuICAgIGNvbnN0IHthbmltYXRlZCwgb2Zmc2V0fSA9IHBhcmFtcztcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudFxuICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LiBUbyBzZWUgdGhlXG4gICAgICogZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzXG4gICAgICAgKiBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LlxuICAgICAgICogVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfSA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgdC52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcy5kYXRhKTtcbiAgfVxuXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudFxuICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LiBUbyBzZWUgdGhlXG4gICAgICogZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgaGFuZGxlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIuXG4gICAqIE5vdGUgdGhhdCBgdGhpcy5fc2Nyb2xsUmVmYCBtaWdodCBub3QgYmUgYSBgU2Nyb2xsVmlld2AsIHNvIHdlXG4gICAqIG5lZWQgdG8gY2hlY2sgdGhhdCBpdCByZXNwb25kcyB0byBgZ2V0U2Nyb2xsUmVzcG9uZGVyYCBiZWZvcmUgY2FsbGluZyBpdC5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcigpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlVmlydHVhbGl6YXRpb246IGZhbHNlLFxuICAgIGhvcml6b250YWw6IGZhbHNlLFxuICAgIGluaXRpYWxOdW1Ub1JlbmRlcjogMTAsXG4gICAga2V5RXh0cmFjdG9yOiAoaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGl0ZW0ua2V5ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5O1xuICAgICAgfVxuICAgICAgX3VzZWRJbmRleEZvcktleSA9IHRydWU7XG4gICAgICBpZiAoaXRlbS50eXBlICYmIGl0ZW0udHlwZS5kaXNwbGF5TmFtZSkge1xuICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gaXRlbS50eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFN0cmluZyhpbmRleCk7XG4gICAgfSxcbiAgICBtYXhUb1JlbmRlclBlckJhdGNoOiAxMCxcbiAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IDIsIC8vIG11bHRpcGxlcyBvZiBsZW5ndGhcbiAgICBzY3JvbGxFdmVudFRocm90dGxlOiA1MCxcbiAgICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiA1MCxcbiAgICB3aW5kb3dTaXplOiAyMSwgLy8gbXVsdGlwbGVzIG9mIGxlbmd0aFxuICB9O1xuXG4gIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgdmlydHVhbGl6ZWRDZWxsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY2VsbEtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9KSxcbiAgICB2aXJ0dWFsaXplZExpc3Q6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBnZXRTY3JvbGxNZXRyaWNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGhvcml6b250YWw6IFByb3BUeXBlcy5ib29sLFxuICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBnZXROZXN0ZWRDaGlsZFN0YXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgfSksXG4gIH07XG5cbiAgc3RhdGljIGNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgIHZpcnR1YWxpemVkTGlzdDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGdldFNjcm9sbE1ldHJpY3M6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgaG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wsXG4gICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9KSxcbiAgfTtcblxuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpcnR1YWxpemVkTGlzdDoge1xuICAgICAgICBnZXRTY3JvbGxNZXRyaWNzOiB0aGlzLl9nZXRTY3JvbGxNZXRyaWNzLFxuICAgICAgICBob3Jpem9udGFsOiB0aGlzLnByb3BzLmhvcml6b250YWwsXG4gICAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IHRoaXMuX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYsXG4gICAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IHRoaXMuX2dldE5lc3RlZENoaWxkU3RhdGUsXG4gICAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fcmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5jb250ZXh0LnZpcnR1YWxpemVkQ2VsbCAmJiB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRDZWxsLmNlbGxLZXkpIHx8XG4gICAgICAncm9vdExpc3QnXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRTY3JvbGxNZXRyaWNzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICB9O1xuXG4gIGhhc01vcmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc01vcmU7XG4gIH1cblxuICBfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9nZXROZXN0ZWRDaGlsZFN0YXRlID0gKGtleTogc3RyaW5nKTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGtleSk7XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnN0YXRlO1xuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICB9KTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICAvLyBSZWdpc3RlciB0aGUgbWFwcGluZyBiZXR3ZWVuIHRoaXMgY2hpbGQga2V5IGFuZCB0aGUgY2VsbEtleSBmb3IgaXRzIGNlbGxcbiAgICBjb25zdCBjaGlsZExpc3RzSW5DZWxsID1cbiAgICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjaGlsZExpc3QuY2VsbEtleSkgfHwgbmV3IFNldCgpO1xuICAgIGNoaWxkTGlzdHNJbkNlbGwuYWRkKGNoaWxkTGlzdC5rZXkpO1xuICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLnNldChjaGlsZExpc3QuY2VsbEtleSwgY2hpbGRMaXN0c0luQ2VsbCk7XG5cbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkTGlzdC5rZXkpO1xuICAgIGludmFyaWFudChcbiAgICAgICEoZXhpc3RpbmdDaGlsZERhdGEgJiYgZXhpc3RpbmdDaGlsZERhdGEucmVmICE9PSBudWxsKSxcbiAgICAgICdBIFZpcnR1YWxpemVkTGlzdCBjb250YWlucyBhIGNlbGwgd2hpY2ggaXRzZWxmIGNvbnRhaW5zICcgK1xuICAgICAgICAnbW9yZSB0aGFuIG9uZSBWaXJ0dWFsaXplZExpc3Qgb2YgdGhlIHNhbWUgb3JpZW50YXRpb24gYXMgdGhlIHBhcmVudCAnICtcbiAgICAgICAgJ2xpc3QuIFlvdSBtdXN0IHBhc3MgYSB1bmlxdWUgbGlzdEtleSBwcm9wIHRvIGVhY2ggc2libGluZyBsaXN0LicsXG4gICAgKTtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IGNoaWxkTGlzdC5yZWYsXG4gICAgICBzdGF0ZTogbnVsbCxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzdGF0ZTogQ2hpbGRMaXN0U3RhdGUsXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IG51bGwsXG4gICAgICBzdGF0ZTogY2hpbGRMaXN0LnN0YXRlLFxuICAgIH0pO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIGNvbnRleHQ6IE9iamVjdCkge1xuICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhcHJvcHMub25TY3JvbGwgfHwgIXByb3BzLm9uU2Nyb2xsLl9faXNOYXRpdmUsXG4gICAgICAnQ29tcG9uZW50cyBiYXNlZCBvbiBWaXJ0dWFsaXplZExpc3QgbXVzdCBiZSB3cmFwcGVkIHdpdGggQW5pbWF0ZWQuY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgJyArXG4gICAgICAgICd0byBzdXBwb3J0IG5hdGl2ZSBvblNjcm9sbCBldmVudHMgd2l0aCB1c2VOYXRpdmVEcml2ZXInLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBwcm9wcy53aW5kb3dTaXplID4gMCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSB3aW5kb3dTaXplIHByb3AgbXVzdCBiZSBwcmVzZW50IGFuZCBzZXQgdG8gYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nLFxuICAgICk7XG5cbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlciA9IG5ldyBGaWxsUmF0ZUhlbHBlcih0aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLnB1c2goe1xuICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiB0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgZmlyc3Q6IHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDAsXG4gICAgICBsYXN0OlxuICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpLFxuICAgICAgICAgICh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCAwKSArIHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyLFxuICAgICAgICApIC0gMSxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBjb25zdCBzdG9yZWRTdGF0ZSA9IHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0TmVzdGVkQ2hpbGRTdGF0ZShcbiAgICAgICAgdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICk7XG4gICAgICBpZiAoc3RvcmVkU3RhdGUpIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdG9yZWRTdGF0ZTtcbiAgICAgICAgdGhpcy5fZnJhbWVzID0gc3RvcmVkU3RhdGUuZnJhbWVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5fZ2V0Q2VsbEtleSgpLFxuICAgICAgICBrZXk6IHRoaXMucHJvcHMubGlzdEtleSB8fCB0aGlzLl9nZXRDZWxsS2V5KCksXG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnZpcnR1YWxpemVkTGlzdC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGtleTogdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICBmaXJzdDogdGhpcy5zdGF0ZS5maXJzdCxcbiAgICAgICAgICBsYXN0OiB0aGlzLnN0YXRlLmxhc3QsXG4gICAgICAgICAgZnJhbWVzOiB0aGlzLl9mcmFtZXMsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhudWxsKTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHthYm9ydDogdHJ1ZX0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmRlYWN0aXZhdGVBbmRGbHVzaCgpO1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcbiAgICBjb25zdCB7ZGF0YSwgZXh0cmFEYXRhLCBnZXRJdGVtQ291bnQsIG1heFRvUmVuZGVyUGVyQmF0Y2h9ID0gbmV3UHJvcHM7XG4gICAgLy8gZmlyc3QgYW5kIGxhc3QgY291bGQgYmUgc3RhbGUgKGUuZy4gaWYgYSBuZXcsIHNob3J0ZXIgaXRlbXMgcHJvcHMgaXMgcGFzc2VkIGluKSwgc28gd2UgbWFrZVxuICAgIC8vIHN1cmUgd2UncmUgcmVuZGVyaW5nIGEgcmVhc29uYWJsZSByYW5nZSBoZXJlLlxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIE1hdGgubWluKHByZXZTdGF0ZS5maXJzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAtIG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgICAgKSxcbiAgICAgIGxhc3Q6IE1hdGgubWF4KDAsIE1hdGgubWluKHByZXZTdGF0ZS5sYXN0LCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSksXG4gICAgfTtcbiAgfVxuXG4gIF9wdXNoQ2VsbHMoXG4gICAgY2VsbHM6IEFycmF5PE9iamVjdD4sXG4gICAgc3RpY2t5SGVhZGVySW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzOiBTZXQ8bnVtYmVyPixcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogP0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wLFxuICApIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAga2V5RXh0cmFjdG9yLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IGdldEl0ZW1Db3VudChkYXRhKSAtIDE7XG4gICAgbGV0IHByZXZDZWxsS2V5O1xuICAgIGxhc3QgPSBNYXRoLm1pbihlbmQsIGxhc3QpO1xuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIGNvbnN0IGtleSA9IGtleUV4dHJhY3RvcihpdGVtLCBpaSk7XG4gICAgICB0aGlzLl9pbmRpY2VzVG9LZXlzLnNldChpaSwga2V5KTtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKGNlbGxzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8Q2VsbFJlbmRlcmVyXG4gICAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PXtDZWxsUmVuZGVyZXJDb21wb25lbnR9XG4gICAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD17aWkgPCBlbmQgPyBJdGVtU2VwYXJhdG9yQ29tcG9uZW50IDogdW5kZWZpbmVkfVxuICAgICAgICAgIGNlbGxLZXk9e2tleX1cbiAgICAgICAgICBmaWxsUmF0ZUhlbHBlcj17dGhpcy5fZmlsbFJhdGVIZWxwZXJ9XG4gICAgICAgICAgaG9yaXpvbnRhbD17aG9yaXpvbnRhbH1cbiAgICAgICAgICBpbmRleD17aWl9XG4gICAgICAgICAgaW52ZXJzaW9uU3R5bGU9e2ludmVyc2lvblN0eWxlfVxuICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgcHJldkNlbGxLZXk9e3ByZXZDZWxsS2V5fVxuICAgICAgICAgIG9uVXBkYXRlU2VwYXJhdG9ycz17dGhpcy5fb25VcGRhdGVTZXBhcmF0b3JzfVxuICAgICAgICAgIG9uTGF5b3V0PXtlID0+IHRoaXMuX29uQ2VsbExheW91dChlLCBrZXksIGlpKX1cbiAgICAgICAgICBvblVubW91bnQ9e3RoaXMuX29uQ2VsbFVubW91bnR9XG4gICAgICAgICAgcGFyZW50UHJvcHM9e3RoaXMucHJvcHN9XG4gICAgICAgICAgcmVmPXtyZWYgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2VsbFJlZnNba2V5XSA9IHJlZjtcbiAgICAgICAgICB9fVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb247XG4gIH1cblxuICBfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5lc3RlZENvbnRleHQgPSB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiYgISFuZXN0ZWRDb250ZXh0Lmhvcml6b250YWwgPT09ICEhdGhpcy5wcm9wcy5ob3Jpem9udGFsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmbGF0U3R5bGVzID09IG51bGwgfHwgZmxhdFN0eWxlcy5mbGV4V3JhcCAhPT0gJ3dyYXAnLFxuICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAnQ29uc2lkZXIgdXNpbmcgYG51bUNvbHVtbnNgIHdpdGggYEZsYXRMaXN0YCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7ZGF0YSwgaG9yaXpvbnRhbH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIGNvbnN0IGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZFxuICAgICAgPyB0aGlzLnByb3BzLmhvcml6b250YWxcbiAgICAgICAgPyBzdHlsZXMuaG9yaXpvbnRhbGx5SW52ZXJ0ZWRcbiAgICAgICAgOiBzdHlsZXMudmVydGljYWxseUludmVydGVkXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZENlbGxXcmFwcGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0SGVhZGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRDZWxsV3JhcHBlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IGZhbHNlO1xuICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuICAgICAgY29uc3Qgc3BhY2VyS2V5ID0gIWhvcml6b250YWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICBjb25zdCBsYXN0SW5pdGlhbEluZGV4ID0gdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICAgICAgPyAtMVxuICAgICAgICA6IHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyIC0gMTtcbiAgICAgIGNvbnN0IHtmaXJzdCwgbGFzdH0gPSB0aGlzLnN0YXRlO1xuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgMCxcbiAgICAgICAgbGFzdEluaXRpYWxJbmRleCxcbiAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICApO1xuICAgICAgY29uc3QgZmlyc3RBZnRlckluaXRpYWwgPSBNYXRoLm1heChsYXN0SW5pdGlhbEluZGV4ICsgMSwgZmlyc3QpO1xuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgZmlyc3QgPiBsYXN0SW5pdGlhbEluZGV4ICsgMSkge1xuICAgICAgICBsZXQgaW5zZXJ0ZWRTdGlja3lTcGFjZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgICAgICAgLy8gU2VlIGlmIHRoZXJlIGFyZSBhbnkgc3RpY2t5IGhlYWRlcnMgaW4gdGhlIHZpcnR1YWxpemVkIHNwYWNlIHRoYXQgd2UgbmVlZCB0byByZW5kZXIuXG4gICAgICAgICAgZm9yIChsZXQgaWkgPSBmaXJzdEFmdGVySW5pdGlhbCAtIDE7IGlpID4gbGFzdEluaXRpYWxJbmRleDsgaWktLSkge1xuICAgICAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdEluaXRpYWxJbmRleCk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0aWNreUJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGlpKTtcbiAgICAgICAgICAgICAgY29uc3QgbGVhZFNwYWNlID0gc3RpY2t5QmxvY2sub2Zmc2V0IC0gaW5pdEJsb2NrLm9mZnNldDtcbiAgICAgICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgICAgICA8VmlldyBrZXk9XCIkc3RpY2t5X2xlYWRcIiBzdHlsZT17e1tzcGFjZXJLZXldOiBsZWFkU3BhY2V9fSAvPixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICAgICAgICAgIGNlbGxzLFxuICAgICAgICAgICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgICAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgICAgICAgICBpaSxcbiAgICAgICAgICAgICAgICBpaSxcbiAgICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgdHJhaWxTcGFjZSA9XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLVxuICAgICAgICAgICAgICAgIChzdGlja3lCbG9jay5vZmZzZXQgKyBzdGlja3lCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAgIDxWaWV3IGtleT1cIiRzdGlja3lfdHJhaWxcIiBzdHlsZT17e1tzcGFjZXJLZXldOiB0cmFpbFNwYWNlfX0gLz4sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGluc2VydGVkU3RpY2t5U3BhY2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaW5zZXJ0ZWRTdGlja3lTcGFjZXIpIHtcbiAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdEluaXRpYWxJbmRleCk7XG4gICAgICAgICAgY29uc3QgZmlyc3RTcGFjZSA9XG4gICAgICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldCAtXG4gICAgICAgICAgICAoaW5pdEJsb2NrLm9mZnNldCArIGluaXRCbG9jay5sZW5ndGgpO1xuICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICA8VmlldyBrZXk9XCIkbGVhZF9zcGFjZXJcIiBzdHlsZT17e1tzcGFjZXJLZXldOiBmaXJzdFNwYWNlfX0gLz4sXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgZmlyc3RBZnRlckluaXRpYWwsXG4gICAgICAgIGxhc3QsXG4gICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgKTtcbiAgICAgIGlmICghdGhpcy5faGFzV2FybmVkLmtleXMgJiYgX3VzZWRJbmRleEZvcktleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogbWlzc2luZyBrZXlzIGZvciBpdGVtcywgbWFrZSBzdXJlIHRvIHNwZWNpZnkgYSBrZXkgcHJvcGVydHkgb24gZWFjaCAnICtcbiAgICAgICAgICAgICdpdGVtIG9yIHByb3ZpZGUgYSBjdXN0b20ga2V5RXh0cmFjdG9yLicsXG4gICAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgbGFzdCA8IGl0ZW1Db3VudCAtIDEpIHtcbiAgICAgICAgY29uc3QgbGFzdEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpO1xuICAgICAgICAvLyBXaXRob3V0IGdldEl0ZW1MYXlvdXQsIHdlIGxpbWl0IG91ciB0YWlsIHNwYWNlciB0byB0aGUgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggdG9cbiAgICAgICAgLy8gcHJldmVudCB0aGUgdXNlciBmb3IgaHlwZXJzY3JvbGxpbmcgaW50byB1bi1tZWFzdXJlZCBhcmVhIGJlY2F1c2Ugb3RoZXJ3aXNlIGNvbnRlbnQgd2lsbFxuICAgICAgICAvLyBsaWtlbHkganVtcCBhcm91bmQgYXMgaXQgcmVuZGVycyBpbiBhYm92ZSB0aGUgdmlld3BvcnQuXG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dFxuICAgICAgICAgID8gaXRlbUNvdW50IC0gMVxuICAgICAgICAgIDogTWF0aC5taW4oaXRlbUNvdW50IC0gMSwgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCk7XG4gICAgICAgIGNvbnN0IGVuZEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGVuZCk7XG4gICAgICAgIGNvbnN0IHRhaWxTcGFjZXJMZW5ndGggPVxuICAgICAgICAgIGVuZEZyYW1lLm9mZnNldCArXG4gICAgICAgICAgZW5kRnJhbWUubGVuZ3RoIC1cbiAgICAgICAgICAobGFzdEZyYW1lLm9mZnNldCArIGxhc3RGcmFtZS5sZW5ndGgpO1xuICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgIDxWaWV3IGtleT1cIiR0YWlsX3NwYWNlclwiIHN0eWxlPXt7W3NwYWNlcktleV06IHRhaWxTcGFjZXJMZW5ndGh9fSAvPixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudDogUmVhY3QuRWxlbWVudDxhbnk+ID0gKChSZWFjdC5pc1ZhbGlkRWxlbWVudChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50LFxuICAgICAgKSA/IChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIDxMaXN0RW1wdHlDb21wb25lbnQgLz5cbiAgICAgICkpOiBhbnkpO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgICAgICBrZXk6ICckZW1wdHknLFxuICAgICAgICAgIG9uTGF5b3V0OiBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkxheW91dEVtcHR5KGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQucHJvcHMub25MYXlvdXQoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGU6IFtlbGVtZW50LnByb3BzLnN0eWxlLCBpbnZlcnNpb25TdHlsZV0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKExpc3RGb290ZXJDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0Rm9vdGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEZvb3RlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZENlbGxXcmFwcGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1mb290ZXInfVxuICAgICAgICAgIGtleT1cIiRmb290ZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0Rm9vdGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRDZWxsV3JhcHBlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLCAvLyBUT0RPOiBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6XG4gICAgICAgIHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnNcbiAgICAgICAgICA6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgIH07XG4gICAgaWYgKGludmVyc2lvblN0eWxlKSB7XG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC43MC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjcwIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGVcbiAgICAgICAqIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBzY3JvbGxQcm9wcy5zdHlsZSA9IFtpbnZlcnNpb25TdHlsZSwgdGhpcy5wcm9wcy5zdHlsZV07XG4gICAgfVxuXG4gICAgdGhpcy5faGFzTW9yZSA9XG4gICAgICB0aGlzLnN0YXRlLmxhc3QgPCB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcblxuICAgIGNvbnN0IHJldCA9IFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICh0aGlzLnByb3BzLnJlbmRlclNjcm9sbENvbXBvbmVudCB8fCB0aGlzLl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50KShcbiAgICAgICAgc2Nyb2xsUHJvcHMsXG4gICAgICApLFxuICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgIHtcbiAgICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmLFxuICAgICAgfSxcbiAgICAgIGNlbGxzLFxuICAgICk7XG4gICAgaWYgKHRoaXMucHJvcHMuZGVidWcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXt7ZmxleDogMX19PlxuICAgICAgICAgIHtyZXR9XG4gICAgICAgICAge3RoaXMuX3JlbmRlckRlYnVnT3ZlcmxheSgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3Qge2RhdGEsIGV4dHJhRGF0YX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIHRoaXMuX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkID0gdHJ1ZTtcblxuICAgICAgLy8gY2xlYXIgdGhlIHZpZXdhYmxlSW5kaWNlcyBjYWNoZSB0byBhbHNvIHRyaWdnZXJcbiAgICAgIC8vIHRoZSBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBkYXRhXG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgfVxuXG4gIF9hdmVyYWdlQ2VsbExlbmd0aCA9IDA7XG4gIC8vIE1hcHMgYSBjZWxsIGtleSB0byB0aGUgc2V0IG9mIGtleXMgZm9yIGFsbCBvdXRlcm1vc3QgY2hpbGQgbGlzdHMgd2l0aGluIHRoYXQgY2VsbFxuICBfY2VsbEtleXNUb0NoaWxkTGlzdEtleXM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiA9IG5ldyBNYXAoKTtcbiAgX2NlbGxSZWZzID0ge307XG4gIF9maWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXI7XG4gIF9mcmFtZXMgPSB7fTtcbiAgX2Zvb3Rlckxlbmd0aCA9IDA7XG4gIF9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCA9IHRydWU7XG4gIF9oYXNJbnRlcmFjdGVkID0gZmFsc2U7XG4gIF9oYXNNb3JlID0gZmFsc2U7XG4gIF9oYXNXYXJuZWQgPSB7fTtcbiAgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2luZGljZXNUb0tleXM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gIF9oYXNEb25lSW5pdGlhbFNjcm9sbCA9IGZhbHNlO1xuICBfbmVzdGVkQ2hpbGRMaXN0czogTWFwPFxuICAgIHN0cmluZyxcbiAgICB7cmVmOiA/VmlydHVhbGl6ZWRMaXN0LCBzdGF0ZTogP0NoaWxkTGlzdFN0YXRlfSxcbiAgPiA9IG5ldyBNYXAoKTtcbiAgX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q6IG51bWJlciA9IDA7XG4gIF9wcmV2UGFyZW50T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfc2Nyb2xsTWV0cmljcyA9IHtcbiAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgfTtcbiAgX3Njcm9sbFJlZjogP1JlYWN0LkVsZW1lbnRSZWY8YW55PiA9IG51bGw7XG4gIF9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF90b3RhbENlbGxMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyOiBCYXRjaGluYXRvcjtcbiAgX3ZpZXdhYmlsaXR5VHVwbGVzOiBBcnJheTxWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGU+ID0gW107XG5cbiAgX2NhcHR1cmVTY3JvbGxSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUsXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICk7XG4gIH1cblxuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBjb25zdCBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgcmV0dXJuIDxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgPFNjcm9sbFZpZXdcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaENvbnRyb2w9e1xuICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH1cbiAgfTtcblxuICBfb25DZWxsTGF5b3V0KGUsIGNlbGxLZXksIGluZGV4KSB7XG4gICAgY29uc3QgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgY29uc3QgbmV4dCA9IHtcbiAgICAgIG9mZnNldDogdGhpcy5fc2VsZWN0T2Zmc2V0KGxheW91dCksXG4gICAgICBsZW5ndGg6IHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXQpLFxuICAgICAgaW5kZXgsXG4gICAgICBpbkxheW91dDogdHJ1ZSxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKFxuICAgICAgIWN1cnIgfHxcbiAgICAgIG5leHQub2Zmc2V0ICE9PSBjdXJyLm9mZnNldCB8fFxuICAgICAgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8XG4gICAgICBpbmRleCAhPT0gY3Vyci5pbmRleFxuICAgICkge1xuICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoICs9IG5leHQubGVuZ3RoIC0gKGN1cnIgPyBjdXJyLmxlbmd0aCA6IDApO1xuICAgICAgdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkICs9IGN1cnIgPyAwIDogMTtcbiAgICAgIHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoID1cbiAgICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoIC8gdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkO1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gbmV4dDtcbiAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSBNYXRoLm1heChcbiAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICApO1xuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGRMaXN0S2V5cyA9IHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjZWxsS2V5KTtcbiAgICBpZiAoY2hpbGRMaXN0S2V5cykge1xuICAgICAgZm9yIChsZXQgY2hpbGRLZXkgb2YgY2hpbGRMaXN0S2V5cykge1xuICAgICAgICBjb25zdCBjaGlsZExpc3QgPSB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChjaGlsZEtleSk7XG4gICAgICAgIGNoaWxkTGlzdCAmJlxuICAgICAgICAgIGNoaWxkTGlzdC5yZWYgJiZcbiAgICAgICAgICBjaGlsZExpc3QucmVmLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gIH1cblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChjdXJyKSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0gPSB7Li4uY3VyciwgaW5MYXlvdXQ6IGZhbHNlfTtcbiAgICB9XG4gIH07XG5cbiAgbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpOiB2b2lkIHtcbiAgICAvLyBUT0RPIChUMzU1NzQ1MzgpOiBmaW5kTm9kZUhhbmRsZSBzb21ldGltZXMgY3Jhc2hlcyB3aXRoIFwiVW5hYmxlIHRvIGZpbmRcbiAgICAvLyBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnRcIiBkdXJpbmcgc2Nyb2xsaW5nXG4gICAgdHJ5IHtcbiAgICAgIFVJTWFuYWdlci5tZWFzdXJlTGF5b3V0KFxuICAgICAgICBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzKSxcbiAgICAgICAgUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUoXG4gICAgICAgICAgdGhpcy5jb250ZXh0LnZpcnR1YWxpemVkTGlzdC5nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCksXG4gICAgICAgICksXG4gICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlZpcnR1YWxpemVkTGlzdDogRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgbWVhc3VyaW5nIGEgbGlzdCdzXCIgK1xuICAgICAgICAgICAgICAnIG9mZnNldCBmcm9tIGl0cyBjb250YWluaW5nIFZpcnR1YWxpemVkTGlzdC4nLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICAgICAgdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCA9IHRoaXMuX3NlbGVjdE9mZnNldCh7eCwgeX0pO1xuICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aCh7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHNjcm9sbE1ldHJpY3MgPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyhcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0U2Nyb2xsTWV0cmljcygpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ID0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJyxcbiAgICAgICAgZXJyb3Iuc3RhY2ssXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9vbkxheW91dCA9IChlOiBPYmplY3QpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIC8vIE5lZWQgdG8gYWRqdXN0IG91ciBzY3JvbGwgbWV0cmljcyB0byBiZSByZWxhdGl2ZSB0byBvdXIgY29udGFpbmluZ1xuICAgICAgLy8gVmlydHVhbGl6ZWRMaXN0IGJlZm9yZSB3ZSBjYW4gbWFrZSBjbGFpbXMgYWJvdXQgbGlzdCBpdGVtIHZpZXdhYmlsaXR5XG4gICAgICB0aGlzLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKFxuICAgICAgICBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgfTtcblxuICBfb25MYXlvdXRFbXB0eSA9IGUgPT4ge1xuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgfTtcblxuICBfb25MYXlvdXRGb290ZXIgPSBlID0+IHtcbiAgICB0aGlzLl9mb290ZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9vbkxheW91dEhlYWRlciA9IGUgPT4ge1xuICAgIHRoaXMuX2hlYWRlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPVxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC8gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgIGNvbnN0IGZyYW1lc0luTGF5b3V0ID0gW107XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaXRlbUNvdW50OyBpaSsrKSB7XG4gICAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSk7XG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBpZiAoZnJhbWUuaW5MYXlvdXQpIHtcbiAgICAgICAgZnJhbWVzSW5MYXlvdXQucHVzaChmcmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdpbmRvd1RvcCA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCh0aGlzLnN0YXRlLmZpcnN0KS5vZmZzZXQ7XG4gICAgY29uc3QgZnJhbWVMYXN0ID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHRoaXMuc3RhdGUubGFzdCk7XG4gICAgY29uc3Qgd2luZG93TGVuID0gZnJhbWVMYXN0Lm9mZnNldCArIGZyYW1lTGFzdC5sZW5ndGggLSB3aW5kb3dUb3A7XG4gICAgY29uc3QgdmlzVG9wID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgdmlzTGVuID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIGNvbnN0IGJhc2VTdHlsZSA9IHtwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCByaWdodDogMH07XG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgLi4uYmFzZVN0eWxlLFxuICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICB3aWR0aDogMjAsXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICdibHVlJyxcbiAgICAgICAgICBib3JkZXJXaWR0aDogMSxcbiAgICAgICAgfX0+XG4gICAgICAgIHtmcmFtZXNJbkxheW91dC5tYXAoKGYsIGlpKSA9PiAoXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIGtleT17J2YnICsgaWl9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAuLi5iYXNlU3R5bGUsXG4gICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogZi5sZW5ndGggKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ29yYW5nZScsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAuLi5iYXNlU3R5bGUsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IHdpbmRvd0xlbiAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIsXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgLi4uYmFzZVN0eWxlLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHRvcDogdmlzVG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aXNMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJ3JlZCcsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogMixcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICBfc2VsZWN0TGVuZ3RoKG1ldHJpY3M6ICRSZWFkT25seTx7aGVpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXJ9Pik6IG51bWJlciB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLmhlaWdodCA6IG1ldHJpY3Mud2lkdGg7XG4gIH1cblxuICBfc2VsZWN0T2Zmc2V0KG1ldHJpY3M6ICRSZWFkT25seTx7eDogbnVtYmVyLCB5OiBudW1iZXJ9Pik6IG51bWJlciB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH1cblxuICBfbWF5YmVDYWxsT25FbmRSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvbkVuZFJlYWNoZWQsXG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2NvbnRlbnRMZW5ndGgsIHZpc2libGVMZW5ndGgsIG9mZnNldH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuICAgIGlmIChcbiAgICAgIG9uRW5kUmVhY2hlZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmXG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoICYmXG4gICAgICAodGhpcy5faGFzRGF0YUNoYW5nZWRTaW5jZUVuZFJlYWNoZWQgfHxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aClcbiAgICApIHtcbiAgICAgIC8vIE9ubHkgY2FsbCBvbkVuZFJlYWNoZWQgb25jZSBmb3IgYSBnaXZlbiBkYXRhc2V0ICsgY29udGVudCBsZW5ndGguXG4gICAgICB0aGlzLl9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG4gICAgICBvbkVuZFJlYWNoZWQoe2Rpc3RhbmNlRnJvbUVuZH0pO1xuICAgIH1cbiAgfVxuXG4gIF9vbkNvbnRlbnRTaXplQ2hhbmdlID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKFxuICAgICAgd2lkdGggPiAwICYmXG4gICAgICBoZWlnaHQgPiAwICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA+IDAgJiZcbiAgICAgICF0aGlzLl9oYXNEb25lSW5pdGlhbFNjcm9sbFxuICAgICkge1xuICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHtcbiAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlLFxuICAgICAgICBpbmRleDogdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2hhc0RvbmVJbml0aWFsU2Nyb2xsID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe2hlaWdodCwgd2lkdGh9KTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgfTtcblxuICAvKiBUcmFuc2xhdGVzIG1ldHJpY3MgZnJvbSBhIHNjcm9sbCBldmVudCBpbiBhIHBhcmVudCBWaXJ0dWFsaXplZExpc3QgaW50b1xuICAgKiBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgY2hpbGQgbGlzdC5cbiAgICovXG4gIF9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyA9IChtZXRyaWNzOiB7XG4gICAgdmlzaWJsZUxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICB9KSA9PiB7XG4gICAgLy8gT2Zmc2V0IG9mIHRoZSB0b3Agb2YgdGhlIG5lc3RlZCBsaXN0IHJlbGF0aXZlIHRvIHRoZSB0b3Agb2YgaXRzIHBhcmVudCdzIHZpZXdwb3J0XG4gICAgY29uc3Qgb2Zmc2V0ID0gbWV0cmljcy5vZmZzZXQgLSB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0O1xuICAgIC8vIENoaWxkJ3MgdmlzaWJsZSBsZW5ndGggaXMgdGhlIHNhbWUgYXMgaXRzIHBhcmVudCdzXG4gICAgY29uc3QgdmlzaWJsZUxlbmd0aCA9IG1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICBjb25zdCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcblxuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIG9mZnNldCxcbiAgICAgIGRPZmZzZXQsXG4gICAgfTtcbiAgfTtcblxuICBfb25TY3JvbGwgPSAoZTogT2JqZWN0KSA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYuX29uU2Nyb2xsKGUpO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2Nyb2xsKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcDtcbiAgICBsZXQgdmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dE1lYXN1cmVtZW50KTtcbiAgICBsZXQgY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRTaXplKTtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KGUubmF0aXZlRXZlbnQuY29udGVudE9mZnNldCk7XG4gICAgbGV0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgaWYgKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBJZ25vcmUgc2Nyb2xsIGV2ZW50cyB1bnRpbCBvbkxheW91dCBoYXMgYmVlbiBjYWxsZWQgYW5kIHdlXG4gICAgICAgIC8vIGtub3cgb3VyIG9mZnNldCBmcm9tIG91ciBvZmZzZXQgZnJvbSBvdXIgcGFyZW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICh7XG4gICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZE9mZnNldCxcbiAgICAgIH0gPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgIG9mZnNldCxcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wXG4gICAgICA/IE1hdGgubWF4KDEsIHRpbWVzdGFtcCAtIHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wKVxuICAgICAgOiAxO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZE9mZnNldCAvIGR0O1xuXG4gICAgaWYgKFxuICAgICAgZHQgPiA1MDAgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQgPiA1MDAgJiZcbiAgICAgIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5wZXJmXG4gICAgKSB7XG4gICAgICBpbmZvTG9nKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgK1xuICAgICAgICAgICdyZW5kZXJJdGVtIGZ1bmN0aW9uIHJlbmRlcnMgY29tcG9uZW50cyB0aGF0IGZvbGxvdyBSZWFjdCBwZXJmb3JtYW5jZSBiZXN0IHByYWN0aWNlcyAnICtcbiAgICAgICAgICAnbGlrZSBQdXJlQ29tcG9uZW50LCBzaG91bGRDb21wb25lbnRVcGRhdGUsIGV0Yy4nLFxuICAgICAgICB7ZHQsIHByZXZEdDogdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCwgY29udGVudExlbmd0aH0sXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzID0ge1xuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIGR0LFxuICAgICAgZE9mZnNldCxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIHZlbG9jaXR5LFxuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICB9O1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcy5kYXRhKTtcbiAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7b2Zmc2V0LCB2aXNpYmxlTGVuZ3RoLCB2ZWxvY2l0eX0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgbGV0IGhpUHJpID0gZmFsc2U7XG4gICAgY29uc3Qgc2Nyb2xsaW5nVGhyZXNob2xkID1cbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZVxuICAgICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICh0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGgpIC8gMjtcbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIHN0YXJ0IG9mIHRoZSBmaXJzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGJlZm9yZSB0aGUgZmlyc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmIChmaXJzdCA+IDApIHtcbiAgICAgIGNvbnN0IGRpc3RUb3AgPSBvZmZzZXQgLSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldDtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgaGlQcmkgfHwgZGlzdFRvcCA8IDAgfHwgKHZlbG9jaXR5IDwgLTIgJiYgZGlzdFRvcCA8IHNjcm9sbGluZ1RocmVzaG9sZCk7XG4gICAgfVxuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgZW5kIG9mIHRoZSBsYXN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYWZ0ZXIgdGhlIGxhc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmIChsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgY29uc3QgZGlzdEJvdHRvbSA9XG4gICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0KS5vZmZzZXQgLSAob2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCk7XG4gICAgICBoaVByaSA9XG4gICAgICAgIGhpUHJpIHx8XG4gICAgICAgIGRpc3RCb3R0b20gPCAwIHx8XG4gICAgICAgICh2ZWxvY2l0eSA+IDIgJiYgZGlzdEJvdHRvbSA8IHNjcm9sbGluZ1RocmVzaG9sZCk7XG4gICAgfVxuICAgIC8vIE9ubHkgdHJpZ2dlciBoaWdoLXByaW9yaXR5IHVwZGF0ZXMgaWYgd2UndmUgYWN0dWFsbHkgcmVuZGVyZWQgY2VsbHMsXG4gICAgLy8gYW5kIHdpdGggdGhhdCBzaXplIGVzdGltYXRlLCBhY2N1cmF0ZWx5IGNvbXB1dGUgaG93IG1hbnkgY2VsbHMgd2Ugc2hvdWxkIHJlbmRlci5cbiAgICAvLyBPdGhlcndpc2UsIGl0IHdvdWxkIGp1c3QgcmVuZGVyIGFzIG1hbnkgY2VsbHMgYXMgaXQgY2FuIChvZiB6ZXJvIGRpbWVuc2lvbiksXG4gICAgLy8gZWFjaCB0aW1lIHRocm91Z2ggYXR0ZW1wdGluZyB0byByZW5kZXIgbW9yZSAobGltaXRlZCBieSBtYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAvLyBzdGFydmluZyB0aGUgcmVuZGVyZXIgZnJvbSBhY3R1YWxseSBsYXlpbmcgb3V0IHRoZSBvYmplY3RzIGFuZCBjb21wdXRpbmcgX2F2ZXJhZ2VDZWxsTGVuZ3RoLlxuICAgIGlmIChoaVByaSAmJiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCkge1xuICAgICAgLy8gRG9uJ3Qgd29ycnkgYWJvdXQgaW50ZXJhY3Rpb25zIHdoZW4gc2Nyb2xsaW5nIHF1aWNrbHk7IGZvY3VzIG9uIGZpbGxpbmcgY29udGVudCBhcyBmYXN0XG4gICAgICAvLyBhcyBwb3NzaWJsZS5cbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLnNjaGVkdWxlKCk7XG4gICAgfVxuICB9XG5cbiAgX29uU2Nyb2xsQmVnaW5EcmFnID0gKGUpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX2hhc0ludGVyYWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICBfb25TY3JvbGxFbmREcmFnID0gKGUpOiB2b2lkID0+IHtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSB0aGlzLl9zZWxlY3RPZmZzZXQodmVsb2NpdHkpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgX29uTW9tZW50dW1TY3JvbGxFbmQgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIG9uRW5kUmVhY2hlZFRocmVzaG9sZH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMoZGF0YSk7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4ge1xuICAgICAgbGV0IG5ld1N0YXRlO1xuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQpIHtcbiAgICAgICAgLy8gSWYgd2UgcnVuIHRoaXMgd2l0aCBib2d1cyBkYXRhLCB3ZSdsbCBmb3JjZS1yZW5kZXIgd2luZG93IHtmaXJzdDogMCwgbGFzdDogMH0sXG4gICAgICAgIC8vIGFuZCB3aXBlIG91dCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHJlbmRlcmVkIGVsZW1lbnRzLlxuICAgICAgICAvLyBTbyBsZXQncyB3YWl0IHVudGlsIHRoZSBzY3JvbGwgdmlldyBtZXRyaWNzIGhhdmUgYmVlbiBzZXQgdXAuIEFuZCB1bnRpbCB0aGVuLFxuICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgc3VnZ2VzdGlvblxuICAgICAgICBpZiAodGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoKSB7XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG5vbi16ZXJvIGluaXRpYWxTY3JvbGxJbmRleCBhbmQgcnVuIHRoaXMgYmVmb3JlIHdlJ3ZlIHNjcm9sbGVkLFxuICAgICAgICAgIC8vIHdlJ2xsIHdpcGUgb3V0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgcmVuZGVyZWQgZWxlbWVudHMgc3RhcnRpbmcgYXQgaW5pdGlhbFNjcm9sbEluZGV4LlxuICAgICAgICAgIC8vIFNvIGxldCdzIHdhaXQgdW50aWwgd2UndmUgc2Nyb2xsZWQgdGhlIHZpZXcgdG8gdGhlIHJpZ2h0IHBsYWNlLiBBbmQgdW50aWwgdGhlbixcbiAgICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsU2Nyb2xsSW5kZXggc3VnZ2VzdGlvbi5cbiAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0KSB7XG4gICAgICAgICAgICBuZXdTdGF0ZSA9IGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyhcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCxcbiAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7Y29udGVudExlbmd0aCwgb2Zmc2V0LCB2aXNpYmxlTGVuZ3RofSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuICAgICAgICBjb25zdCByZW5kZXJBaGVhZCA9XG4gICAgICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXNcbiAgICAgICAgICAgKiBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yXG4gICAgICAgICAgICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAgICAgZGlzdGFuY2VGcm9tRW5kIDwgb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICAgICAgPyB0aGlzLnByb3BzLm1heFRvUmVuZGVyUGVyQmF0Y2hcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgZmlyc3Q6IDAsXG4gICAgICAgICAgbGFzdDogTWF0aC5taW4oc3RhdGUubGFzdCArIHJlbmRlckFoZWFkLCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdTdGF0ZSAmJiB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNpemUgPiAwKSB7XG4gICAgICAgIGNvbnN0IG5ld0ZpcnN0ID0gbmV3U3RhdGUuZmlyc3Q7XG4gICAgICAgIGNvbnN0IG5ld0xhc3QgPSBuZXdTdGF0ZS5sYXN0O1xuICAgICAgICAvLyBJZiBzb21lIGNlbGwgaW4gdGhlIG5ldyBzdGF0ZSBoYXMgYSBjaGlsZCBsaXN0IGluIGl0LCB3ZSBzaG91bGQgb25seSByZW5kZXJcbiAgICAgICAgLy8gdXAgdGhyb3VnaCB0aGF0IGl0ZW0sIHNvIHRoYXQgd2UgZ2l2ZSB0aGF0IGxpc3QgYSBjaGFuY2UgdG8gcmVuZGVyLlxuICAgICAgICAvLyBPdGhlcndpc2UgdGhlcmUncyBjaHVybiBmcm9tIG11bHRpcGxlIGNoaWxkIGxpc3RzIG1vdW50aW5nIGFuZCB1bi1tb3VudGluZ1xuICAgICAgICAvLyB0aGVpciBpdGVtcy5cbiAgICAgICAgZm9yIChsZXQgaWkgPSBuZXdGaXJzdDsgaWkgPD0gbmV3TGFzdDsgaWkrKykge1xuICAgICAgICAgIGNvbnN0IGNlbGxLZXlGb3JJbmRleCA9IHRoaXMuX2luZGljZXNUb0tleXMuZ2V0KGlpKTtcbiAgICAgICAgICBjb25zdCBjaGlsZExpc3RLZXlzID1cbiAgICAgICAgICAgIGNlbGxLZXlGb3JJbmRleCAmJlxuICAgICAgICAgICAgdGhpcy5fY2VsbEtleXNUb0NoaWxkTGlzdEtleXMuZ2V0KGNlbGxLZXlGb3JJbmRleCk7XG4gICAgICAgICAgaWYgKCFjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHNvbWVDaGlsZEhhc01vcmUgPSBmYWxzZTtcbiAgICAgICAgICAvLyBGb3IgZWFjaCBjZWxsLCBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgYW55IGNoaWxkIGxpc3QgaW4gaXQgaGFzIG1vcmUgZWxlbWVudHMgdG8gcmVuZGVyXG4gICAgICAgICAgZm9yIChsZXQgY2hpbGRLZXkgb2YgY2hpbGRMaXN0S2V5cykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRMaXN0ID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuICAgICAgICAgICAgaWYgKGNoaWxkTGlzdCAmJiBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYuaGFzTW9yZSgpKSB7XG4gICAgICAgICAgICAgIHNvbWVDaGlsZEhhc01vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNvbWVDaGlsZEhhc01vcmUpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlLmxhc3QgPSBpaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH0pO1xuICB9O1xuXG4gIF9jcmVhdGVWaWV3VG9rZW4gPSAoaW5kZXg6IG51bWJlciwgaXNWaWV3YWJsZTogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBrZXlFeHRyYWN0b3J9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIHtpbmRleCwgaXRlbSwga2V5OiBrZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpLCBpc1ZpZXdhYmxlfTtcbiAgfTtcblxuICBfZ2V0RnJhbWVNZXRyaWNzQXBwcm94ID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICk6IHtsZW5ndGg6IG51bWJlciwgb2Zmc2V0OiBudW1iZXJ9ID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljcyhpbmRleCk7XG4gICAgaWYgKGZyYW1lICYmIGZyYW1lLmluZGV4ID09PSBpbmRleCkge1xuICAgICAgLy8gY2hlY2sgZm9yIGludmFsaWQgZnJhbWVzIGR1ZSB0byByb3cgcmUtb3JkZXJpbmdcbiAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qge2dldEl0ZW1MYXlvdXR9ID0gdGhpcy5wcm9wcztcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgIWdldEl0ZW1MYXlvdXQsXG4gICAgICAgICdTaG91bGQgbm90IGhhdmUgdG8gZXN0aW1hdGUgZnJhbWVzIHdoZW4gYSBtZWFzdXJlbWVudCBtZXRyaWNzIGZ1bmN0aW9uIGlzIHByb3ZpZGVkJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBvZmZzZXQ6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoICogaW5kZXgsXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBfZ2V0RnJhbWVNZXRyaWNzID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICk6ID97XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gIH0gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIGtleUV4dHJhY3RvcixcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQoZGF0YSkgPiBpbmRleCxcbiAgICAgICdUcmllZCB0byBnZXQgZnJhbWUgZm9yIG91dCBvZiByYW5nZSBpbmRleCAnICsgaW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgbGV0IGZyYW1lID0gaXRlbSAmJiB0aGlzLl9mcmFtZXNba2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KV07XG4gICAgaWYgKCFmcmFtZSB8fCBmcmFtZS5pbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGlmIChnZXRJdGVtTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lID0gZ2V0SXRlbUxheW91dChkYXRhLCBpbmRleCk7XG4gICAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgICAgY29uc3QgZnJhbWVUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgIGxlbmd0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgb2Zmc2V0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBpbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgIH0pLmlzUmVxdWlyZWQ7XG4gICAgICAgICAgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKFxuICAgICAgICAgICAge2ZyYW1lOiBmcmFtZVR5cGV9LFxuICAgICAgICAgICAge2ZyYW1lfSxcbiAgICAgICAgICAgICdmcmFtZScsXG4gICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0LmdldEl0ZW1MYXlvdXQnLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzXG4gICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgcmV0dXJuIGZyYW1lO1xuICB9O1xuXG4gIF91cGRhdGVWaWV3YWJsZUl0ZW1zKGRhdGE6IGFueSkge1xuICAgIGNvbnN0IHtnZXRJdGVtQ291bnR9ID0gdGhpcy5wcm9wcztcblxuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoXG4gICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzLFxuICAgICAgICB0aGlzLl9jcmVhdGVWaWV3VG9rZW4sXG4gICAgICAgIHR1cGxlLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIHRoaXMuc3RhdGUsXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG5cbmNsYXNzIENlbGxSZW5kZXJlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAge1xuICAgIENlbGxSZW5kZXJlckNvbXBvbmVudD86ID9SZWFjdC5Db21wb25lbnRUeXBlPGFueT4sXG4gICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudDogP1JlYWN0LkNvbXBvbmVudFR5cGU8Kj4sXG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGZpbGxSYXRlSGVscGVyOiBGaWxsUmF0ZUhlbHBlcixcbiAgICBob3Jpem9udGFsOiA/Ym9vbGVhbixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGludmVyc2lvblN0eWxlOiA/RGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZVByb3AsXG4gICAgaXRlbTogSXRlbSxcbiAgICBvbkxheW91dDogKGV2ZW50OiBPYmplY3QpID0+IHZvaWQsIC8vIFRoaXMgaXMgZXh0cmFjdGVkIGJ5IFNjcm9sbFZpZXdTdGlja3lIZWFkZXJcbiAgICBvblVubW91bnQ6IChjZWxsS2V5OiBzdHJpbmcpID0+IHZvaWQsXG4gICAgb25VcGRhdGVTZXBhcmF0b3JzOiAoY2VsbEtleXM6IEFycmF5PD9zdHJpbmc+LCBwcm9wczogT2JqZWN0KSA9PiB2b2lkLFxuICAgIHBhcmVudFByb3BzOiB7XG4gICAgICBnZXRJdGVtTGF5b3V0PzogP0Z1bmN0aW9uLFxuICAgICAgcmVuZGVySXRlbTogcmVuZGVySXRlbVR5cGUsXG4gICAgfSxcbiAgICBwcmV2Q2VsbEtleTogP3N0cmluZyxcbiAgfSxcbiAgJEZsb3dGaXhNZVN0YXRlLFxuPiB7XG4gIHN0YXRlID0ge1xuICAgIHNlcGFyYXRvclByb3BzOiB7XG4gICAgICBoaWdobGlnaHRlZDogZmFsc2UsXG4gICAgICBsZWFkaW5nSXRlbTogdGhpcy5wcm9wcy5pdGVtLFxuICAgIH0sXG4gIH07XG5cbiAgc3RhdGljIGNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgIHZpcnR1YWxpemVkQ2VsbDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNlbGxLZXk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gIH07XG5cbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB2aXJ0dWFsaXplZENlbGw6IHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5wcm9wcy5jZWxsS2V5LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLy8gVE9ETzogY29uc2lkZXIgZmFjdG9yaW5nIHNlcGFyYXRvciBzdHVmZiBvdXQgb2YgVmlydHVhbGl6ZWRMaXN0IGludG8gRmxhdExpc3Qgc2luY2UgaXQncyBub3RcbiAgLy8gcmV1c2VkIGJ5IFNlY3Rpb25MaXN0IGFuZCB3ZSBjYW4ga2VlcCBWaXJ0dWFsaXplZExpc3Qgc2ltcGxlci5cbiAgX3NlcGFyYXRvcnMgPSB7XG4gICAgaGlnaGxpZ2h0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7Y2VsbEtleSwgcHJldkNlbGxLZXl9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFtjZWxsS2V5LCBwcmV2Q2VsbEtleV0sIHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVuaGlnaGxpZ2h0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7Y2VsbEtleSwgcHJldkNlbGxLZXl9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFtjZWxsS2V5LCBwcmV2Q2VsbEtleV0sIHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1cGRhdGVQcm9wczogKHNlbGVjdDogJ2xlYWRpbmcnIHwgJ3RyYWlsaW5nJywgbmV3UHJvcHM6IE9iamVjdCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhcbiAgICAgICAgW3NlbGVjdCA9PT0gJ2xlYWRpbmcnID8gcHJldkNlbGxLZXkgOiBjZWxsS2V5XSxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICApO1xuICAgIH0sXG4gIH07XG5cbiAgdXBkYXRlU2VwYXJhdG9yUHJvcHMobmV3UHJvcHM6IE9iamVjdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4gKHtcbiAgICAgIHNlcGFyYXRvclByb3BzOiB7Li4uc3RhdGUuc2VwYXJhdG9yUHJvcHMsIC4uLm5ld1Byb3BzfSxcbiAgICB9KSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnByb3BzLm9uVW5tb3VudCh0aGlzLnByb3BzLmNlbGxLZXkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICBmaWxsUmF0ZUhlbHBlcixcbiAgICAgIGhvcml6b250YWwsXG4gICAgICBpdGVtLFxuICAgICAgaW5kZXgsXG4gICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgIHBhcmVudFByb3BzLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtyZW5kZXJJdGVtLCBnZXRJdGVtTGF5b3V0fSA9IHBhcmVudFByb3BzO1xuICAgIGludmFyaWFudChyZW5kZXJJdGVtLCAnbm8gcmVuZGVySXRlbSEnKTtcbiAgICBjb25zdCBlbGVtZW50ID0gcmVuZGVySXRlbSh7XG4gICAgICBpdGVtLFxuICAgICAgaW5kZXgsXG4gICAgICBzZXBhcmF0b3JzOiB0aGlzLl9zZXBhcmF0b3JzLFxuICAgIH0pO1xuICAgIGNvbnN0IG9uTGF5b3V0ID1cbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzXG4gICAgICAgKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIGdldEl0ZW1MYXlvdXQgJiYgIXBhcmVudFByb3BzLmRlYnVnICYmICFmaWxsUmF0ZUhlbHBlci5lbmFibGVkKClcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiB0aGlzLnByb3BzLm9uTGF5b3V0O1xuICAgIC8vIE5PVEU6IHRoYXQgd2hlbiB0aGlzIGlzIGEgc3RpY2t5IGhlYWRlciwgYG9uTGF5b3V0YCB3aWxsIGdldCBhdXRvbWF0aWNhbGx5IGV4dHJhY3RlZCBhbmRcbiAgICAvLyBjYWxsZWQgZXhwbGljaXRseSBieSBgU2Nyb2xsVmlld1N0aWNreUhlYWRlcmAuXG4gICAgY29uc3QgaXRlbVNlcGFyYXRvciA9IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgJiYgKFxuICAgICAgPEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgey4uLnRoaXMuc3RhdGUuc2VwYXJhdG9yUHJvcHN9IC8+XG4gICAgKTtcbiAgICBjb25zdCBjZWxsU3R5bGUgPSBpbnZlcnNpb25TdHlsZVxuICAgICAgPyBob3Jpem9udGFsXG4gICAgICAgID8gW3tmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnfSwgaW52ZXJzaW9uU3R5bGVdXG4gICAgICAgIDogW3tmbGV4RGlyZWN0aW9uOiAnY29sdW1uLXJldmVyc2UnfSwgaW52ZXJzaW9uU3R5bGVdXG4gICAgICA6IGhvcml6b250YWxcbiAgICAgICAgPyBbe2ZsZXhEaXJlY3Rpb246ICdyb3cnfSwgaW52ZXJzaW9uU3R5bGVdXG4gICAgICAgIDogaW52ZXJzaW9uU3R5bGU7XG4gICAgaWYgKCFDZWxsUmVuZGVyZXJDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXtjZWxsU3R5bGV9IG9uTGF5b3V0PXtvbkxheW91dH0+XG4gICAgICAgICAge2VsZW1lbnR9XG4gICAgICAgICAge2l0ZW1TZXBhcmF0b3J9XG4gICAgICAgIDwvVmlldz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8Q2VsbFJlbmRlcmVyQ29tcG9uZW50XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBzdHlsZT17Y2VsbFN0eWxlfVxuICAgICAgICBvbkxheW91dD17b25MYXlvdXR9PlxuICAgICAgICB7ZWxlbWVudH1cbiAgICAgICAge2l0ZW1TZXBhcmF0b3J9XG4gICAgICA8L0NlbGxSZW5kZXJlckNvbXBvbmVudD5cbiAgICApO1xuICB9XG59XG5cbmNsYXNzIFZpcnR1YWxpemVkQ2VsbFdyYXBwZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8e1xuICBjZWxsS2V5OiBzdHJpbmcsXG4gIGNoaWxkcmVuOiBSZWFjdC5Ob2RlLFxufT4ge1xuICBzdGF0aWMgY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gICAgdmlydHVhbGl6ZWRDZWxsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY2VsbEtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9KSxcbiAgfTtcblxuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpcnR1YWxpemVkQ2VsbDoge1xuICAgICAgICBjZWxsS2V5OiB0aGlzLnByb3BzLmNlbGxLZXksXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICB2ZXJ0aWNhbGx5SW52ZXJ0ZWQ6IHtcbiAgICB0cmFuc2Zvcm06IFt7c2NhbGVZOiAtMX1dLFxuICB9LFxuICBob3Jpem9udGFsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVg6IC0xfV0sXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBWaXJ0dWFsaXplZExpc3Q7XG4iXX0=