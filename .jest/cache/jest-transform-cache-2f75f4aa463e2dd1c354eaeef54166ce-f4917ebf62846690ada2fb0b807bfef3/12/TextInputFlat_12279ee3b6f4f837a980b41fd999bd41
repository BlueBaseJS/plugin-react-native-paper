1c7bd8c602e6d34ea39ef407cad67f59
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _color = _interopRequireDefault(require("color"));

var _Text = _interopRequireDefault(require("../Typography/Text"));

var AnimatedText = _reactNative.Animated.createAnimatedComponent(_Text.default);

var MINIMIZED_LABEL_Y_OFFSET = -12;
var MAXIMIZED_LABEL_FONT_SIZE = 16;
var MINIMIZED_LABEL_FONT_SIZE = 12;
var LABEL_WIGGLE_X_OFFSET = 4;
var LABEL_PADDING_HORIZONTAL = 12;
var RANDOM_VALUE_TO_CENTER_LABEL = 4;

var TextInputFlat = function (_React$Component) {
  (0, _inherits2.default)(TextInputFlat, _React$Component);

  function TextInputFlat() {
    (0, _classCallCheck2.default)(this, TextInputFlat);
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TextInputFlat).apply(this, arguments));
  }

  (0, _createClass2.default)(TextInputFlat, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          disabled = _this$props.disabled,
          label = _this$props.label,
          error = _this$props.error,
          selectionColor = _this$props.selectionColor,
          underlineColor = _this$props.underlineColor,
          style = _this$props.style,
          theme = _this$props.theme,
          render = _this$props.render,
          multiline = _this$props.multiline,
          parentState = _this$props.parentState,
          innerRef = _this$props.innerRef,
          onFocus = _this$props.onFocus,
          onBlur = _this$props.onBlur,
          onChangeText = _this$props.onChangeText,
          onLayoutAnimatedText = _this$props.onLayoutAnimatedText,
          rest = (0, _objectWithoutProperties2.default)(_this$props, ["disabled", "label", "error", "selectionColor", "underlineColor", "style", "theme", "render", "multiline", "parentState", "innerRef", "onFocus", "onBlur", "onChangeText", "onLayoutAnimatedText"]);
      var colors = theme.colors,
          fonts = theme.fonts;
      var fontFamily = fonts.regular;
      var hasActiveOutline = parentState.focused || error;
      var inputTextColor, activeColor, underlineColorCustom, placeholderColor;

      if (disabled) {
        inputTextColor = activeColor = (0, _color.default)(colors.text).alpha(0.54).rgb().string();
        placeholderColor = colors.disabled;
        underlineColorCustom = 'transparent';
      } else {
        inputTextColor = colors.text;
        activeColor = error ? colors.error : colors.primary;
        placeholderColor = colors.placeholder;
        underlineColorCustom = underlineColor || colors.disabled;
      }

      var containerStyle = {
        backgroundColor: theme.dark ? (0, _color.default)(colors.background).lighten(0.24).rgb().string() : (0, _color.default)(colors.background).darken(0.06).rgb().string(),
        borderTopLeftRadius: theme.roundness,
        borderTopRightRadius: theme.roundness
      };
      var labelHalfWidth = parentState.labelLayout.width / 2;
      var baseLabelTranslateX = (_reactNative.I18nManager.isRTL ? 1 : -1) * (1 - MINIMIZED_LABEL_FONT_SIZE / MAXIMIZED_LABEL_FONT_SIZE) * labelHalfWidth;
      var labelStyle = {
        fontFamily: fontFamily,
        fontSize: MAXIMIZED_LABEL_FONT_SIZE,
        transform: [{
          translateX: parentState.error.interpolate({
            inputRange: [0, 0.5, 1],
            outputRange: [0, parentState.value && error ? LABEL_WIGGLE_X_OFFSET : 0, 0]
          })
        }, {
          translateY: parentState.labeled.interpolate({
            inputRange: [0, 1],
            outputRange: [MINIMIZED_LABEL_Y_OFFSET, 0]
          })
        }, {
          scale: parentState.labeled.interpolate({
            inputRange: [0, 1],
            outputRange: [MINIMIZED_LABEL_FONT_SIZE / MAXIMIZED_LABEL_FONT_SIZE, 1]
          })
        }, {
          translateX: parentState.labeled.interpolate({
            inputRange: [0, 1],
            outputRange: [baseLabelTranslateX > 0 ? baseLabelTranslateX + labelHalfWidth / LABEL_PADDING_HORIZONTAL - RANDOM_VALUE_TO_CENTER_LABEL : baseLabelTranslateX - labelHalfWidth / LABEL_PADDING_HORIZONTAL + RANDOM_VALUE_TO_CENTER_LABEL, 0]
          })
        }]
      };
      return React.createElement(_reactNative.View, {
        style: [containerStyle, style]
      }, React.createElement(_reactNative.Animated.View, {
        style: [styles.underline, {
          backgroundColor: error ? colors.error : parentState.focused ? activeColor : underlineColorCustom,
          transform: [{
            scaleY: parentState.focused ? 1 : 0.5
          }]
        }]
      }), label ? React.createElement(_reactNative.View, {
        pointerEvents: "none",
        style: [_reactNative.StyleSheet.absoluteFill, {
          opacity: parentState.value || parentState.focused ? parentState.labelLayout.measured ? 1 : 0 : 1
        }]
      }, React.createElement(AnimatedText, {
        onLayout: onLayoutAnimatedText,
        style: [styles.placeholder, styles.placeholderFlat, labelStyle, {
          color: activeColor,
          opacity: parentState.labeled.interpolate({
            inputRange: [0, 1],
            outputRange: [hasActiveOutline ? 1 : 0, 0]
          })
        }],
        numberOfLines: 1
      }, label), React.createElement(AnimatedText, {
        style: [styles.placeholder, styles.placeholderFlat, labelStyle, {
          color: placeholderColor,
          opacity: hasActiveOutline ? parentState.labeled : 1
        }],
        numberOfLines: 1
      }, label)) : null, render((0, _objectSpread2.default)({}, rest, {
        ref: innerRef,
        onChangeText: onChangeText,
        placeholder: label ? parentState.placeholder : this.props.placeholder,
        placeholderTextColor: placeholderColor,
        editable: !disabled,
        selectionColor: typeof selectionColor === 'undefined' ? activeColor : selectionColor,
        onFocus: onFocus,
        onBlur: onBlur,
        underlineColorAndroid: 'transparent',
        multiline: multiline,
        style: [styles.input, this.props.label ? styles.inputFlatWithLabel : styles.inputFlatWithoutLabel, {
          color: inputTextColor,
          fontFamily: fontFamily,
          textAlignVertical: multiline ? 'top' : 'center'
        }]
      })));
    }
  }]);
  return TextInputFlat;
}(React.Component);

(0, _defineProperty2.default)(TextInputFlat, "defaultProps", {
  disabled: false,
  error: false,
  multiline: false,
  editable: true,
  render: function render(props) {
    return React.createElement(_reactNative.TextInput, props);
  }
});
var _default = TextInputFlat;
exports.default = _default;

var styles = _reactNative.StyleSheet.create({
  placeholder: {
    position: 'absolute',
    left: 0,
    fontSize: 16,
    paddingHorizontal: LABEL_PADDING_HORIZONTAL
  },
  placeholderFlat: {
    top: 19
  },
  underline: {
    position: 'absolute',
    left: 0,
    right: 0,
    bottom: 0,
    height: 2
  },
  input: {
    flexGrow: 1,
    paddingHorizontal: 12,
    fontSize: 16,
    margin: 0,
    minHeight: 58,
    textAlign: _reactNative.I18nManager.isRTL ? 'right' : 'left',
    zIndex: 1
  },
  inputFlatWithLabel: {
    paddingTop: 24,
    paddingBottom: 6
  },
  inputFlatWithoutLabel: {
    paddingVertical: 15
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRleHRJbnB1dEZsYXQuanMiXSwibmFtZXMiOlsiQW5pbWF0ZWRUZXh0IiwiQW5pbWF0ZWQiLCJjcmVhdGVBbmltYXRlZENvbXBvbmVudCIsIlRleHQiLCJNSU5JTUlaRURfTEFCRUxfWV9PRkZTRVQiLCJNQVhJTUlaRURfTEFCRUxfRk9OVF9TSVpFIiwiTUlOSU1JWkVEX0xBQkVMX0ZPTlRfU0laRSIsIkxBQkVMX1dJR0dMRV9YX09GRlNFVCIsIkxBQkVMX1BBRERJTkdfSE9SSVpPTlRBTCIsIlJBTkRPTV9WQUxVRV9UT19DRU5URVJfTEFCRUwiLCJUZXh0SW5wdXRGbGF0IiwicHJvcHMiLCJkaXNhYmxlZCIsImxhYmVsIiwiZXJyb3IiLCJzZWxlY3Rpb25Db2xvciIsInVuZGVybGluZUNvbG9yIiwic3R5bGUiLCJ0aGVtZSIsInJlbmRlciIsIm11bHRpbGluZSIsInBhcmVudFN0YXRlIiwiaW5uZXJSZWYiLCJvbkZvY3VzIiwib25CbHVyIiwib25DaGFuZ2VUZXh0Iiwib25MYXlvdXRBbmltYXRlZFRleHQiLCJyZXN0IiwiY29sb3JzIiwiZm9udHMiLCJmb250RmFtaWx5IiwicmVndWxhciIsImhhc0FjdGl2ZU91dGxpbmUiLCJmb2N1c2VkIiwiaW5wdXRUZXh0Q29sb3IiLCJhY3RpdmVDb2xvciIsInVuZGVybGluZUNvbG9yQ3VzdG9tIiwicGxhY2Vob2xkZXJDb2xvciIsInRleHQiLCJhbHBoYSIsInJnYiIsInN0cmluZyIsInByaW1hcnkiLCJwbGFjZWhvbGRlciIsImNvbnRhaW5lclN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiZGFyayIsImJhY2tncm91bmQiLCJsaWdodGVuIiwiZGFya2VuIiwiYm9yZGVyVG9wTGVmdFJhZGl1cyIsInJvdW5kbmVzcyIsImJvcmRlclRvcFJpZ2h0UmFkaXVzIiwibGFiZWxIYWxmV2lkdGgiLCJsYWJlbExheW91dCIsIndpZHRoIiwiYmFzZUxhYmVsVHJhbnNsYXRlWCIsIkkxOG5NYW5hZ2VyIiwiaXNSVEwiLCJsYWJlbFN0eWxlIiwiZm9udFNpemUiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGVYIiwiaW50ZXJwb2xhdGUiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJ2YWx1ZSIsInRyYW5zbGF0ZVkiLCJsYWJlbGVkIiwic2NhbGUiLCJzdHlsZXMiLCJ1bmRlcmxpbmUiLCJzY2FsZVkiLCJTdHlsZVNoZWV0IiwiYWJzb2x1dGVGaWxsIiwib3BhY2l0eSIsIm1lYXN1cmVkIiwicGxhY2Vob2xkZXJGbGF0IiwiY29sb3IiLCJyZWYiLCJwbGFjZWhvbGRlclRleHRDb2xvciIsImVkaXRhYmxlIiwidW5kZXJsaW5lQ29sb3JBbmRyb2lkIiwiaW5wdXQiLCJpbnB1dEZsYXRXaXRoTGFiZWwiLCJpbnB1dEZsYXRXaXRob3V0TGFiZWwiLCJ0ZXh0QWxpZ25WZXJ0aWNhbCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY3JlYXRlIiwicG9zaXRpb24iLCJsZWZ0IiwicGFkZGluZ0hvcml6b250YWwiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImhlaWdodCIsImZsZXhHcm93IiwibWFyZ2luIiwibWluSGVpZ2h0IiwidGV4dEFsaWduIiwiekluZGV4IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nVmVydGljYWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFPQTs7QUFDQTs7QUFHQSxJQUFNQSxZQUFZLEdBQUdDLHNCQUFTQyx1QkFBVCxDQUFpQ0MsYUFBakMsQ0FBckI7O0FBRUEsSUFBTUMsd0JBQXdCLEdBQUcsQ0FBQyxFQUFsQztBQUNBLElBQU1DLHlCQUF5QixHQUFHLEVBQWxDO0FBQ0EsSUFBTUMseUJBQXlCLEdBQUcsRUFBbEM7QUFDQSxJQUFNQyxxQkFBcUIsR0FBRyxDQUE5QjtBQUNBLElBQU1DLHdCQUF3QixHQUFHLEVBQWpDO0FBQ0EsSUFBTUMsNEJBQTRCLEdBQUcsQ0FBckM7O0lBRU1DLGE7Ozs7Ozs7Ozs7NkJBU0s7QUFBQSx3QkFrQkgs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QUdMaEMsSUFBQUEsUUFBUSxFQUFFLEVBSEw7QUFJTHNDLElBQUFBLE1BQU0sRUFBRSxDQUpIO0FBS0xDLElBQUFBLFNBQVMsRUFBRSxFQUxOO0FBTUxDLElBQUFBLFNBQVMsRUFBRTNDLHlCQUFZQyxLQUFaLEdBQW9CLE9BQXBCLEdBQThCLE1BTnBDO0FBT0wyQyxJQUFBQSxNQUFNLEVBQUU7QUFQSCxHQWpCd0I7QUEwQi9CakIsRUFBQUEsa0JBQWtCLEVBQUU7QUFDbEJrQixJQUFBQSxVQUFVLEVBQUUsRUFETTtBQUVsQkMsSUFBQUEsYUFBYSxFQUFFO0FBRkcsR0ExQlc7QUE4Qi9CbEIsRUFBQUEscUJBQXFCLEVBQUU7QUFDckJtQixJQUFBQSxlQUFlLEVBQUU7QUFESTtBQTlCUSxDQUFsQixDQUFmIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgVmlldyxcbiAgQW5pbWF0ZWQsXG4gIFRleHRJbnB1dCBhcyBOYXRpdmVUZXh0SW5wdXQsXG4gIFN0eWxlU2hlZXQsXG4gIEkxOG5NYW5hZ2VyLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IGNvbG9yIGZyb20gJ2NvbG9yJztcbmltcG9ydCBUZXh0IGZyb20gJy4uL1R5cG9ncmFwaHkvVGV4dCc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlclByb3BzLCBDaGlsZFRleHRJbnB1dFByb3BzIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IEFuaW1hdGVkVGV4dCA9IEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50KFRleHQpO1xuXG5jb25zdCBNSU5JTUlaRURfTEFCRUxfWV9PRkZTRVQgPSAtMTI7XG5jb25zdCBNQVhJTUlaRURfTEFCRUxfRk9OVF9TSVpFID0gMTY7XG5jb25zdCBNSU5JTUlaRURfTEFCRUxfRk9OVF9TSVpFID0gMTI7XG5jb25zdCBMQUJFTF9XSUdHTEVfWF9PRkZTRVQgPSA0O1xuY29uc3QgTEFCRUxfUEFERElOR19IT1JJWk9OVEFMID0gMTI7XG5jb25zdCBSQU5ET01fVkFMVUVfVE9fQ0VOVEVSX0xBQkVMID0gNDsgLy8gRG9uJ3Qga25vdyB3aHkgNCwgYnV0IGl0IHdvcmtzXG5cbmNsYXNzIFRleHRJbnB1dEZsYXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Q2hpbGRUZXh0SW5wdXRQcm9wcywge30+IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgZXJyb3I6IGZhbHNlLFxuICAgIG11bHRpbGluZTogZmFsc2UsXG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgcmVuZGVyOiAocHJvcHM6IFJlbmRlclByb3BzKSA9PiA8TmF0aXZlVGV4dElucHV0IHsuLi5wcm9wc30gLz4sXG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpc2FibGVkLFxuICAgICAgbGFiZWwsXG4gICAgICBlcnJvcixcbiAgICAgIHNlbGVjdGlvbkNvbG9yLFxuICAgICAgdW5kZXJsaW5lQ29sb3IsXG4gICAgICBzdHlsZSxcbiAgICAgIHRoZW1lLFxuICAgICAgcmVuZGVyLFxuICAgICAgbXVsdGlsaW5lLFxuICAgICAgcGFyZW50U3RhdGUsXG4gICAgICBpbm5lclJlZixcbiAgICAgIG9uRm9jdXMsXG4gICAgICBvbkJsdXIsXG4gICAgICBvbkNoYW5nZVRleHQsXG4gICAgICBvbkxheW91dEFuaW1hdGVkVGV4dCxcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHsgY29sb3JzLCBmb250cyB9ID0gdGhlbWU7XG4gICAgY29uc3QgZm9udEZhbWlseSA9IGZvbnRzLnJlZ3VsYXI7XG4gICAgY29uc3QgaGFzQWN0aXZlT3V0bGluZSA9IHBhcmVudFN0YXRlLmZvY3VzZWQgfHwgZXJyb3I7XG5cbiAgICBsZXQgaW5wdXRUZXh0Q29sb3IsIGFjdGl2ZUNvbG9yLCB1bmRlcmxpbmVDb2xvckN1c3RvbSwgcGxhY2Vob2xkZXJDb2xvcjtcblxuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgaW5wdXRUZXh0Q29sb3IgPSBhY3RpdmVDb2xvciA9IGNvbG9yKGNvbG9ycy50ZXh0KVxuICAgICAgICAuYWxwaGEoMC41NClcbiAgICAgICAgLnJnYigpXG4gICAgICAgIC5zdHJpbmcoKTtcbiAgICAgIHBsYWNlaG9sZGVyQ29sb3IgPSBjb2xvcnMuZGlzYWJsZWQ7XG4gICAgICB1bmRlcmxpbmVDb2xvckN1c3RvbSA9ICd0cmFuc3BhcmVudCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0VGV4dENvbG9yID0gY29sb3JzLnRleHQ7XG4gICAgICBhY3RpdmVDb2xvciA9IGVycm9yID8gY29sb3JzLmVycm9yIDogY29sb3JzLnByaW1hcnk7XG4gICAgICBwbGFjZWhvbGRlckNvbG9yID0gY29sb3JzLnBsYWNlaG9sZGVyO1xuICAgICAgdW5kZXJsaW5lQ29sb3JDdXN0b20gPSB1bmRlcmxpbmVDb2xvciB8fCBjb2xvcnMuZGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyU3R5bGUgPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLmRhcmtcbiAgICAgICAgPyBjb2xvcihjb2xvcnMuYmFja2dyb3VuZClcbiAgICAgICAgICAgIC5saWdodGVuKDAuMjQpXG4gICAgICAgICAgICAucmdiKClcbiAgICAgICAgICAgIC5zdHJpbmcoKVxuICAgICAgICA6IGNvbG9yKGNvbG9ycy5iYWNrZ3JvdW5kKVxuICAgICAgICAgICAgLmRhcmtlbigwLjA2KVxuICAgICAgICAgICAgLnJnYigpXG4gICAgICAgICAgICAuc3RyaW5nKCksXG4gICAgICBib3JkZXJUb3BMZWZ0UmFkaXVzOiB0aGVtZS5yb3VuZG5lc3MsXG4gICAgICBib3JkZXJUb3BSaWdodFJhZGl1czogdGhlbWUucm91bmRuZXNzLFxuICAgIH07XG5cbiAgICBjb25zdCBsYWJlbEhhbGZXaWR0aCA9IHBhcmVudFN0YXRlLmxhYmVsTGF5b3V0LndpZHRoIC8gMjtcbiAgICBjb25zdCBiYXNlTGFiZWxUcmFuc2xhdGVYID1cbiAgICAgIChJMThuTWFuYWdlci5pc1JUTCA/IDEgOiAtMSkgKlxuICAgICAgKDEgLSBNSU5JTUlaRURfTEFCRUxfRk9OVF9TSVpFIC8gTUFYSU1JWkVEX0xBQkVMX0ZPTlRfU0laRSkgKlxuICAgICAgbGFiZWxIYWxmV2lkdGg7XG5cbiAgICBjb25zdCBsYWJlbFN0eWxlID0ge1xuICAgICAgZm9udEZhbWlseSxcbiAgICAgIGZvbnRTaXplOiBNQVhJTUlaRURfTEFCRUxfRk9OVF9TSVpFLFxuICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAvLyBXaWdnbGUgdGhlIGxhYmVsIHdoZW4gdGhlcmUncyBhbiBlcnJvclxuICAgICAgICAgIHRyYW5zbGF0ZVg6IHBhcmVudFN0YXRlLmVycm9yLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAwLjUsIDFdLFxuICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IFtcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgcGFyZW50U3RhdGUudmFsdWUgJiYgZXJyb3IgPyBMQUJFTF9XSUdHTEVfWF9PRkZTRVQgOiAwLFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIC8vIE1vdmUgbGFiZWwgdG8gdG9wXG4gICAgICAgICAgdHJhbnNsYXRlWTogcGFyZW50U3RhdGUubGFiZWxlZC5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgICBvdXRwdXRSYW5nZTogW01JTklNSVpFRF9MQUJFTF9ZX09GRlNFVCwgMF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAvLyBNYWtlIGxhYmVsIHNtYWxsZXJcbiAgICAgICAgICBzY2FsZTogcGFyZW50U3RhdGUubGFiZWxlZC5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgICBvdXRwdXRSYW5nZTogW1xuICAgICAgICAgICAgICBNSU5JTUlaRURfTEFCRUxfRk9OVF9TSVpFIC8gTUFYSU1JWkVEX0xBQkVMX0ZPTlRfU0laRSxcbiAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAvLyBPZmZzZXQgbGFiZWwgc2NhbGUgc2luY2UgUk4gZG9lc24ndCBzdXBwb3J0IHRyYW5zZm9ybSBvcmlnaW5cbiAgICAgICAgICB0cmFuc2xhdGVYOiBwYXJlbnRTdGF0ZS5sYWJlbGVkLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICAgIG91dHB1dFJhbmdlOiBbXG4gICAgICAgICAgICAgIGJhc2VMYWJlbFRyYW5zbGF0ZVggPiAwXG4gICAgICAgICAgICAgICAgPyBiYXNlTGFiZWxUcmFuc2xhdGVYICtcbiAgICAgICAgICAgICAgICAgIGxhYmVsSGFsZldpZHRoIC8gTEFCRUxfUEFERElOR19IT1JJWk9OVEFMIC1cbiAgICAgICAgICAgICAgICAgIFJBTkRPTV9WQUxVRV9UT19DRU5URVJfTEFCRUxcbiAgICAgICAgICAgICAgICA6IGJhc2VMYWJlbFRyYW5zbGF0ZVggLVxuICAgICAgICAgICAgICAgICAgbGFiZWxIYWxmV2lkdGggLyBMQUJFTF9QQURESU5HX0hPUklaT05UQUwgK1xuICAgICAgICAgICAgICAgICAgUkFORE9NX1ZBTFVFX1RPX0NFTlRFUl9MQUJFTCxcbiAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXcgc3R5bGU9e1tjb250YWluZXJTdHlsZSwgc3R5bGVdfT5cbiAgICAgICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLnVuZGVybGluZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBlcnJvclxuICAgICAgICAgICAgICAgID8gY29sb3JzLmVycm9yXG4gICAgICAgICAgICAgICAgOiBwYXJlbnRTdGF0ZS5mb2N1c2VkXG4gICAgICAgICAgICAgICAgICA/IGFjdGl2ZUNvbG9yXG4gICAgICAgICAgICAgICAgICA6IHVuZGVybGluZUNvbG9yQ3VzdG9tLFxuICAgICAgICAgICAgICAvLyBVbmRlcmxpbmVzIGlzIHRoaW5uZXIgd2hlbiBpbnB1dCBpcyBub3QgZm9jdXNlZFxuICAgICAgICAgICAgICB0cmFuc2Zvcm06IFt7IHNjYWxlWTogcGFyZW50U3RhdGUuZm9jdXNlZCA/IDEgOiAwLjUgfV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG5cbiAgICAgICAge2xhYmVsID8gKFxuICAgICAgICAgIC8vIFBvc2l0aW9uIGNvbG9yZWQgcGxhY2Vob2xkZXIgYW5kIGdyYXkgcGxhY2Vob2xkZXIgb24gdG9wIG9mIGVhY2ggb3RoZXIgYW5kIGNyb3NzZmFkZSB0aGVtXG4gICAgICAgICAgLy8gVGhpcyBnaXZlcyB0aGUgZWZmZWN0IG9mIGFuaW1hdGluZyB0aGUgY29sb3IsIGJ1dCBhbGxvd3MgdXMgdG8gdXNlIG5hdGl2ZSBkcml2ZXJcbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50cz1cIm5vbmVcIlxuICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgU3R5bGVTaGVldC5hYnNvbHV0ZUZpbGwsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OlxuICAgICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgbGFiZWwgaW4gbWluaW1pemVkIHN0YXRlIHVudGlsIHdlIG1lYXN1cmUgaXQncyB3aWR0aFxuICAgICAgICAgICAgICAgICAgcGFyZW50U3RhdGUudmFsdWUgfHwgcGFyZW50U3RhdGUuZm9jdXNlZFxuICAgICAgICAgICAgICAgICAgICA/IHBhcmVudFN0YXRlLmxhYmVsTGF5b3V0Lm1lYXN1cmVkXG4gICAgICAgICAgICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICAgICAgICAgICAgOiAwXG4gICAgICAgICAgICAgICAgICAgIDogMSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEFuaW1hdGVkVGV4dFxuICAgICAgICAgICAgICBvbkxheW91dD17b25MYXlvdXRBbmltYXRlZFRleHR9XG4gICAgICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICAgICAgc3R5bGVzLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgIHN0eWxlcy5wbGFjZWhvbGRlckZsYXQsXG4gICAgICAgICAgICAgICAgbGFiZWxTdHlsZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjb2xvcjogYWN0aXZlQ29sb3IsXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiBwYXJlbnRTdGF0ZS5sYWJlbGVkLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRSYW5nZTogW2hhc0FjdGl2ZU91dGxpbmUgPyAxIDogMCwgMF0sXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICBudW1iZXJPZkxpbmVzPXsxfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICA8L0FuaW1hdGVkVGV4dD5cbiAgICAgICAgICAgIDxBbmltYXRlZFRleHRcbiAgICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgICBzdHlsZXMucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgc3R5bGVzLnBsYWNlaG9sZGVyRmxhdCxcbiAgICAgICAgICAgICAgICBsYWJlbFN0eWxlLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBwbGFjZWhvbGRlckNvbG9yLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogaGFzQWN0aXZlT3V0bGluZSA/IHBhcmVudFN0YXRlLmxhYmVsZWQgOiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgIG51bWJlck9mTGluZXM9ezF9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgIDwvQW5pbWF0ZWRUZXh0PlxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge3JlbmRlcihcbiAgICAgICAgICAoe1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIHJlZjogaW5uZXJSZWYsXG4gICAgICAgICAgICBvbkNoYW5nZVRleHQsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogbGFiZWxcbiAgICAgICAgICAgICAgPyBwYXJlbnRTdGF0ZS5wbGFjZWhvbGRlclxuICAgICAgICAgICAgICA6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICBwbGFjZWhvbGRlclRleHRDb2xvcjogcGxhY2Vob2xkZXJDb2xvcixcbiAgICAgICAgICAgIGVkaXRhYmxlOiAhZGlzYWJsZWQsXG4gICAgICAgICAgICBzZWxlY3Rpb25Db2xvcjpcbiAgICAgICAgICAgICAgdHlwZW9mIHNlbGVjdGlvbkNvbG9yID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gYWN0aXZlQ29sb3JcbiAgICAgICAgICAgICAgICA6IHNlbGVjdGlvbkNvbG9yLFxuICAgICAgICAgICAgb25Gb2N1cyxcbiAgICAgICAgICAgIG9uQmx1cixcbiAgICAgICAgICAgIHVuZGVybGluZUNvbG9yQW5kcm9pZDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgIG11bHRpbGluZSxcbiAgICAgICAgICAgIHN0eWxlOiBbXG4gICAgICAgICAgICAgIHN0eWxlcy5pbnB1dCxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5sYWJlbFxuICAgICAgICAgICAgICAgID8gc3R5bGVzLmlucHV0RmxhdFdpdGhMYWJlbFxuICAgICAgICAgICAgICAgIDogc3R5bGVzLmlucHV0RmxhdFdpdGhvdXRMYWJlbCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBpbnB1dFRleHRDb2xvcixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5LFxuICAgICAgICAgICAgICAgIHRleHRBbGlnblZlcnRpY2FsOiBtdWx0aWxpbmUgPyAndG9wJyA6ICdjZW50ZXInLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9OiBSZW5kZXJQcm9wcylcbiAgICAgICAgKX1cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRJbnB1dEZsYXQ7XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgcGxhY2Vob2xkZXI6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBsZWZ0OiAwLFxuICAgIGZvbnRTaXplOiAxNixcbiAgICBwYWRkaW5nSG9yaXpvbnRhbDogTEFCRUxfUEFERElOR19IT1JJWk9OVEFMLFxuICB9LFxuICBwbGFjZWhvbGRlckZsYXQ6IHtcbiAgICB0b3A6IDE5LFxuICB9LFxuICB1bmRlcmxpbmU6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBoZWlnaHQ6IDIsXG4gIH0sXG4gIGlucHV0OiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgcGFkZGluZ0hvcml6b250YWw6IDEyLFxuICAgIGZvbnRTaXplOiAxNixcbiAgICBtYXJnaW46IDAsXG4gICAgbWluSGVpZ2h0OiA1OCxcbiAgICB0ZXh0QWxpZ246IEkxOG5NYW5hZ2VyLmlzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0JyxcbiAgICB6SW5kZXg6IDEsXG4gIH0sXG4gIGlucHV0RmxhdFdpdGhMYWJlbDoge1xuICAgIHBhZGRpbmdUb3A6IDI0LFxuICAgIHBhZGRpbmdCb3R0b206IDYsXG4gIH0sXG4gIGlucHV0RmxhdFdpdGhvdXRMYWJlbDoge1xuICAgIHBhZGRpbmdWZXJ0aWNhbDogMTUsXG4gIH0sXG59KTtcbiJdfQ==