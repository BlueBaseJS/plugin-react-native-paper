c6cf5727bbbb9fd2de5c0ff8dbdb4876
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf3 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _color = _interopRequireDefault(require("color"));

var _Icon = _interopRequireDefault(require("./Icon"));

var _Surface = _interopRequireDefault(require("./Surface"));

var _Text = _interopRequireDefault(require("./Typography/Text"));

var _TouchableRipple = _interopRequireDefault(require("./TouchableRipple"));

var _theming = require("../core/theming");

var _colors = require("../styles/colors");

var Chip = function (_React$Component) {
  (0, _inherits2.default)(Chip, _React$Component);

  function Chip() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2.default)(this, Chip);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(Chip)).call.apply(_getPrototypeOf2, [this].concat(args)));
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "state", {
      elevation: new _reactNative.Animated.Value(0)
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_handlePressIn", function () {
      _reactNative.Animated.timing(_this.state.elevation, {
        toValue: 4,
        duration: 200
      }).start();
    });
    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "_handlePressOut", function () {
      _reactNative.Animated.timing(_this.state.elevation, {
        toValue: 0,
        duration: 150
      }).start();
    });
    return _this;
  }

  (0, _createClass2.default)(Chip, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          mode = _this$props.mode,
          children = _this$props.children,
          icon = _this$props.icon,
          avatar = _this$props.avatar,
          selected = _this$props.selected,
          disabled = _this$props.disabled,
          accessibilityLabel = _this$props.accessibilityLabel,
          onPress = _this$props.onPress,
          onClose = _this$props.onClose,
          style = _this$props.style,
          theme = _this$props.theme,
          testID = _this$props.testID,
          selectedColor = _this$props.selectedColor,
          rest = (0, _objectWithoutProperties2.default)(_this$props, ["mode", "children", "icon", "avatar", "selected", "disabled", "accessibilityLabel", "onPress", "onClose", "style", "theme", "testID", "selectedColor"]);
      var dark = theme.dark,
          colors = theme.colors;

      var _ref = _reactNative.StyleSheet.flatten(style) || {},
          _ref$backgroundColor = _ref.backgroundColor,
          backgroundColor = _ref$backgroundColor === void 0 ? mode === 'outlined' ? colors.surface : dark ? '#383838' : '#ebebeb' : _ref$backgroundColor,
          _ref$borderRadius = _ref.borderRadius,
          borderRadius = _ref$borderRadius === void 0 ? 16 : _ref$borderRadius;

      var borderColor = mode === 'outlined' ? (0, _color.default)(selectedColor !== undefined ? selectedColor : (0, _color.default)(dark ? _colors.white : _colors.black)).alpha(0.29).rgb().string() : backgroundColor;
      var textColor = disabled ? colors.disabled : (0, _color.default)(selectedColor !== undefined ? selectedColor : colors.text).alpha(0.87).rgb().string();
      var iconColor = disabled ? colors.disabled : (0, _color.default)(selectedColor !== undefined ? selectedColor : colors.text).alpha(0.54).rgb().string();
      var selectedBackgroundColor = (dark ? (0, _color.default)(backgroundColor).lighten(mode === 'outlined' ? 0.2 : 0.4) : (0, _color.default)(backgroundColor).darken(mode === 'outlined' ? 0.08 : 0.2)).rgb().string();
      var underlayColor = selectedColor ? (0, _color.default)(selectedColor).fade(0.5).rgb().string() : selectedBackgroundColor;
      var accessibilityTraits = ['button'];
      var accessibilityStates = [];

      if (selected) {
        accessibilityTraits.push('selected');
        accessibilityStates.push('selected');
      }

      if (disabled) {
        accessibilityTraits.push('disabled');
        accessibilityStates.push('disabled');
      }

      return React.createElement(_Surface.default, (0, _extends2.default)({
        style: [styles.container, {
          elevation: _reactNative.Platform.OS === 'android' ? this.state.elevation : 0,
          backgroundColor: selected ? selectedBackgroundColor : backgroundColor,
          borderColor: borderColor,
          borderRadius: borderRadius
        }, style]
      }, rest), React.createElement(_TouchableRipple.default, {
        borderless: true,
        delayPressIn: 0,
        style: {
          borderRadius: borderRadius
        },
        onPress: onPress,
        onPressIn: this._handlePressIn,
        onPressOut: this._handlePressOut,
        underlayColor: underlayColor,
        disabled: disabled,
        accessibilityLabel: accessibilityLabel,
        accessibilityTraits: accessibilityTraits,
        accessibilityComponentType: "button",
        accessibilityRole: "button",
        accessibilityStates: accessibilityStates,
        testID: testID
      }, React.createElement(_reactNative.View, {
        style: styles.content
      }, avatar && !icon ? React.createElement(_reactNative.View, {
        style: [styles.avatarWrapper, disabled && {
          opacity: 0.26
        }]
      }, React.isValidElement(avatar) ? React.cloneElement(avatar, {
        style: [styles.avatar, avatar.props.style]
      }) : avatar) : null, icon || selected ? React.createElement(_reactNative.View, {
        style: [styles.icon, avatar ? [styles.avatar, styles.avatarSelected] : null]
      }, React.createElement(_Icon.default, {
        source: icon || 'done',
        color: avatar ? _colors.white : iconColor,
        size: 18
      })) : null, React.createElement(_Text.default, {
        numberOfLines: 1,
        style: [styles.text, {
          color: textColor,
          marginRight: onClose ? 4 : 8,
          marginLeft: avatar || icon || selected ? 4 : 8
        }]
      }, children), onClose ? React.createElement(_reactNative.TouchableWithoutFeedback, {
        onPress: onClose,
        accessibilityTraits: "button",
        accessibilityComponentType: "button"
      }, React.createElement(_reactNative.View, {
        style: styles.icon
      }, React.createElement(_Icon.default, {
        source: "cancel",
        size: 16,
        color: iconColor
      }))) : null)));
    }
  }]);
  return Chip;
}(React.Component);

(0, _defineProperty2.default)(Chip, "defaultProps", {
  mode: 'flat',
  disabled: false,
  selected: false
});

var styles = _reactNative.StyleSheet.create({
  container: {
    borderWidth: _reactNative.StyleSheet.hairlineWidth,
    borderStyle: 'solid'
  },
  content: {
    flexDirection: 'row',
    alignItems: 'center',
    paddingHorizontal: 4
  },
  icon: {
    padding: 4
  },
  text: {
    minHeight: 24,
    lineHeight: 24,
    textAlignVertical: 'center',
    marginVertical: 4
  },
  avatar: {
    width: 24,
    height: 24,
    borderRadius: 12
  },
  avatarWrapper: {
    marginRight: 4
  },
  avatarSelected: {
    position: 'absolute',
    top: 4,
    left: 4,
    backgroundColor: 'rgba(0, 0, 0, .29)'
  }
});

var _default = (0, _theming.withTheme)(Chip);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNoaXAuanMiXSwibmFtZXMiOlsiQ2hpcCIsImVsZXZhdGlvbiIsIkFuaW1hdGVkIiwiVmFsdWUiLCJ0aW1pbmciLCJzdGF0ZSIsInRvVmFsdWUiLCJkdXJhdGlvbiIsInN0YXJ0IiwicHJvcHMiLCJtb2RlIiwiY2hpbGRyZW4iLCJpY29uIiwiYXZhdGFyIiwic2VsZWN0ZWQiLCJkaXNhYmxlZCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIm9uUHJlc3MiLCJvbkNsb3NlIiwic3R5bGUiLCJ0aGVtZSIsInRlc3RJRCIsInNlbGVjdGVkQ29sb3IiLCJyZXN0IiwiZGFyayIsImNvbG9ycyIsIlN0eWxlU2hlZXQiLCJmbGF0dGVuIiwiYmFja2dyb3VuZENvbG9yIiwic3VyZmFjZSIsImJvcmRlclJhZGl1cyIsImJvcmRlckNvbG9yIiwidW5kZWZpbmVkIiwid2hpdGUiLCJibGFjayIsImFscGhhIiwicmdiIiwic3RyaW5nIiwidGV4dENvbG9yIiwidGV4dCIsImljb25Db2xvciIsInNlbGVjdGVkQmFja2dyb3VuZENvbG9yIiwibGlnaHRlbiIsImRhcmtlbiIsInVuZGVybGF5Q29sb3IiLCJmYWRlIiwiYWNjZXNzaWJpbGl0eVRyYWl0cyIsImFjY2Vzc2liaWxpdHlTdGF0ZXMiLCJwdXNoIiwic3R5bGVzIiwiY29udGFpbmVyIiwiUGxhdGZvcm0iLCJPUyIsIl9oYW5kbGVQcmVzc0luIiwiX2hhbmRsZVByZXNzT3V0IiwiY29udGVudCIsImF2YXRhcldyYXBwZXIiLCJvcGFjaXR5IiwiUmVhY3QiLCJpc1ZhbGlkRWxlbWVudCIsImNsb25lRWxlbWVudCIsImF2YXRhclNlbGVjdGVkIiwiY29sb3IiLCJtYXJnaW5SaWdodCIsIm1hcmdpbkxlZnQiLCJDb21wb25lbnQiLCJjcmVhdGUiLCJib3JkZXJXaWR0aCIsImhhaXJsaW5lV2lkdGgiLCJib3JkZXJTdHlsZSIsImZsZXhEaXJlY3Rpb24iLCJhbGlnbkl0ZW1zIiwicGFkZGluZ0hvcml6b250YWwiLCJwYWRkaW5nIiwibWluSGVpZ2h0IiwibGluZUhlaWdodCIsInRleHRBbGlnblZlcnRpY2FsIiwibWFyZ2luVmVydGljYWwiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7O0FBQ0E7O0FBT0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0lBd0ZNQSxJOzs7Ozs7Ozs7Ozs7Ozs7d0ZBT0k7QUFDTkMsTUFBQUEsU0FBUyxFQUFFLElBQUlDLHNCQUFTQyxLQUFiLENBQW1CLENBQW5CO0FBREwsSztpR0FJUyxZQUFNO0FBQ3JCRCw0QkFBU0UsTUFBVCxDQUFnQixNQUFLQyxLQUFMLENBQVdKLFNBQTNCLEVBQXNDO0FBQ3BDSyxRQUFBQSxPQUFPLEVBQUUsQ0FEMkI7QUFFcENDLFFBQUFBLFFBQVEsRUFBRTtBQUYwQixPQUF0QyxFQUdHQyxLQUhIO0FBSUQsSztrR0FFaUIsWUFBTTtBQUN0Qk4sNEJBQVNFLE1BQVQsQ0FBZ0IsTUFBS0MsS0FBTCxDQUFXSixTQUEzQixFQUFzQztBQUNwQ0ssUUFBQUEsT0FBTyxFQUFFLENBRDJCO0FBRXBDQyxRQUFBQSxRQUFRLEVBQUU7QUFGMEIsT0FBdEMsRUFHR0MsS0FISDtBQUlELEs7Ozs7Ozs2QkFFUTtBQUFBLHdCQWdCSCxLQUFLQyxLQWhCRjtBQUFBLFVBRUxDLElBRkssZUFFTEEsSUFGSztBQUFBLFVBR0xDLFFBSEssZUFHTEEsUUFISztBQUFBLFVBSUxDLElBSkssZUFJTEEsSUFKSztBQUFBLFVBS0xDLE1BTEssZUFLTEEsTUFMSztBQUFBLFVBTUxDLFFBTkssZUFNTEEsUUFOSztBQUFBLFVBT0xDLFFBUEssZUFPTEEsUUFQSztBQUFBLFVBUUxDLGtCQVJLLGVBUUxBLGtCQVJLO0FBQUEsVUFTTEMsT0FUSyxlQVNMQSxPQVRLO0FBQUEsVUFVTEMsT0FWSyxlQVVMQSxPQVZLO0FBQUEsVUFXTEMsS0FYSyxlQVdMQSxLQVhLO0FBQUEsVUFZTEMs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QTNCZSxDQUFsQixDQUFmOztlQW1DZSx3QkFBVTVCLElBQVYsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIFZpZXcsXG4gIFN0eWxlU2hlZXQsXG4gIEFuaW1hdGVkLFxuICBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2ssXG4gIFBsYXRmb3JtLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IGNvbG9yIGZyb20gJ2NvbG9yJztcbmltcG9ydCBJY29uIGZyb20gJy4vSWNvbic7XG5pbXBvcnQgU3VyZmFjZSBmcm9tICcuL1N1cmZhY2UnO1xuaW1wb3J0IFRleHQgZnJvbSAnLi9UeXBvZ3JhcGh5L1RleHQnO1xuaW1wb3J0IFRvdWNoYWJsZVJpcHBsZSBmcm9tICcuL1RvdWNoYWJsZVJpcHBsZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICcuLi9jb3JlL3RoZW1pbmcnO1xuaW1wb3J0IHsgYmxhY2ssIHdoaXRlIH0gZnJvbSAnLi4vc3R5bGVzL2NvbG9ycyc7XG5pbXBvcnQgdHlwZSB7IFRoZW1lIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBJY29uU291cmNlIH0gZnJvbSAnLi9JY29uJztcblxudHlwZSBQcm9wcyA9IFJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIFN1cmZhY2U+ICYge3xcbiAgLyoqXG4gICAqIE1vZGUgb2YgdGhlIGNoaXAuXG4gICAqIC0gYGZsYXRgIC0gZmxhdCBjaGlwIHdpdGhvdXQgb3V0bGluZS5cbiAgICogLSBgb3V0bGluZWRgIC0gY2hpcCB3aXRoIGFuIG91dGxpbmUuXG4gICAqL1xuICBtb2RlPzogJ2ZsYXQnIHwgJ291dGxpbmVkJyxcbiAgLyoqXG4gICAqIFRleHQgY29udGVudCBvZiB0aGUgYENoaXBgLlxuICAgKi9cbiAgY2hpbGRyZW46IFJlYWN0Lk5vZGUsXG4gIC8qKlxuICAgKiBJY29uIHRvIGRpc3BsYXkgZm9yIHRoZSBgQ2hpcGAuIEJvdGggaWNvbiBhbmQgYXZhdGFyIGNhbm5vdCBiZSBzcGVjaWZpZWQuXG4gICAqL1xuICBpY29uPzogSWNvblNvdXJjZSxcbiAgLyoqXG4gICAqIEF2YXRhciB0byBkaXNwbGF5IGZvciB0aGUgYENoaXBgLiBCb3RoIGljb24gYW5kIGF2YXRhciBjYW5ub3QgYmUgc3BlY2lmaWVkLlxuICAgKi9cbiAgYXZhdGFyPzogUmVhY3QuTm9kZSxcbiAgLyoqXG4gICAqIFdoZXRoZXIgY2hpcCBpcyBzZWxlY3RlZC5cbiAgICovXG4gIHNlbGVjdGVkPzogYm9vbGVhbixcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3R5bGUgdGhlIGNoaXAgY29sb3IgYXMgc2VsZWN0ZWQuXG4gICAqL1xuICBzZWxlY3RlZENvbG9yPzogc3RyaW5nLFxuICAvKipcbiAgICogV2hldGhlciB0aGUgY2hpcCBpcyBkaXNhYmxlZC4gQSBkaXNhYmxlZCBjaGlwIGlzIGdyZXllZCBvdXQgYW5kIGBvblByZXNzYCBpcyBub3QgY2FsbGVkIG9uIHRvdWNoLlxuICAgKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuLFxuICAvKipcbiAgICogQWNjZXNzaWJpbGl0eSBsYWJlbCBmb3IgdGhlIGNoaXAuIFRoaXMgaXMgcmVhZCBieSB0aGUgc2NyZWVuIHJlYWRlciB3aGVuIHRoZSB1c2VyIHRhcHMgdGhlIGNoaXAuXG4gICAqL1xuICBhY2Nlc3NpYmlsaXR5TGFiZWw/OiBzdHJpbmcsXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBleGVjdXRlIG9uIHByZXNzLlxuICAgKi9cbiAgb25QcmVzcz86ICgpID0+IG1peGVkLFxuICAvKipcbiAgICogRnVuY3Rpb24gdG8gZXhlY3V0ZSBvbiBjbG9zZSBidXR0b24gcHJlc3MuIFRoZSBjbG9zZSBidXR0b24gYXBwZWFycyBvbmx5IHdoZW4gdGhpcyBwcm9wIGlzIHNwZWNpZmllZC5cbiAgICovXG4gIG9uQ2xvc2U/OiAoKSA9PiBtaXhlZCxcbiAgc3R5bGU/OiBhbnksXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIHRoZW1lOiBUaGVtZSxcbiAgLyoqXG4gICAqIFBhc3MgZG93biB0ZXN0SUQgZnJvbSBjaGlwIHByb3BzIHRvIHRvdWNoYWJsZSBmb3IgRGV0b3ggdGVzdHMuXG4gICAqL1xuICB0ZXN0SUQ/OiBzdHJpbmcsXG58fTtcblxudHlwZSBTdGF0ZSA9IHtcbiAgZWxldmF0aW9uOiBBbmltYXRlZC5WYWx1ZSxcbn07XG5cbi8qKlxuICogQ2hpcHMgY2FuIGJlIHVzZWQgdG8gZGlzcGxheSBlbnRpdGllcyBpbiBzbWFsbCBibG9ja3MuXG4gKlxuICogPGRpdiBjbGFzcz1cInNjcmVlbnNob3RzXCI+XG4gKiAgIDxmaWd1cmU+XG4gKiAgICAgPGltZyBjbGFzcz1cIm1lZGl1bVwiIHNyYz1cInNjcmVlbnNob3RzL2NoaXAtMS5wbmdcIiAvPlxuICogICAgIDxmaWdjYXB0aW9uPkZsYXQgY2hpcDwvZmlnY2FwdGlvbj5cbiAqICAgPC9maWd1cmU+XG4gKiAgIDxmaWd1cmU+XG4gKiAgICAgPGltZyBjbGFzcz1cIm1lZGl1bVwiIHNyYz1cInNjcmVlbnNob3RzL2NoaXAtMi5wbmdcIiAvPlxuICogICAgIDxmaWdjYXB0aW9uPk91dGxpbmVkIGNoaXA8L2ZpZ2NhcHRpb24+XG4gKiAgIDwvZmlndXJlPlxuICogPC9kaXY+XG4gKlxuICogIyMgVXNhZ2VcbiAqIGBgYGpzXG4gKiBpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG4gKiBpbXBvcnQgeyBDaGlwIH0gZnJvbSAncmVhY3QtbmF0aXZlLXBhcGVyJztcbiAqXG4gKiBjb25zdCBNeUNvbXBvbmVudCA9ICgpID0+IChcbiAqICAgPENoaXAgaWNvbj1cImluZm9cIiBvblByZXNzPXsoKSA9PiBjb25zb2xlLmxvZygnUHJlc3NlZCcpfT5FeGFtcGxlIENoaXA8L0NoaXA+XG4gKiApO1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IE15Q29tcG9uZW50O1xuICogYGBgXG4gKi9cbmNsYXNzIENoaXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgbW9kZTogJ2ZsYXQnLFxuICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICBzZWxlY3RlZDogZmFsc2UsXG4gIH07XG5cbiAgc3RhdGUgPSB7XG4gICAgZWxldmF0aW9uOiBuZXcgQW5pbWF0ZWQuVmFsdWUoMCksXG4gIH07XG5cbiAgX2hhbmRsZVByZXNzSW4gPSAoKSA9PiB7XG4gICAgQW5pbWF0ZWQudGltaW5nKHRoaXMuc3RhdGUuZWxldmF0aW9uLCB7XG4gICAgICB0b1ZhbHVlOiA0LFxuICAgICAgZHVyYXRpb246IDIwMCxcbiAgICB9KS5zdGFydCgpO1xuICB9O1xuXG4gIF9oYW5kbGVQcmVzc091dCA9ICgpID0+IHtcbiAgICBBbmltYXRlZC50aW1pbmcodGhpcy5zdGF0ZS5lbGV2YXRpb24sIHtcbiAgICAgIHRvVmFsdWU6IDAsXG4gICAgICBkdXJhdGlvbjogMTUwLFxuICAgIH0pLnN0YXJ0KCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG1vZGUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGljb24sXG4gICAgICBhdmF0YXIsXG4gICAgICBzZWxlY3RlZCxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsLFxuICAgICAgb25QcmVzcyxcbiAgICAgIG9uQ2xvc2UsXG4gICAgICBzdHlsZSxcbiAgICAgIHRoZW1lLFxuICAgICAgdGVzdElELFxuICAgICAgc2VsZWN0ZWRDb2xvcixcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGRhcmssIGNvbG9ycyB9ID0gdGhlbWU7XG5cbiAgICBjb25zdCB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBtb2RlID09PSAnb3V0bGluZWQnXG4gICAgICAgID8gY29sb3JzLnN1cmZhY2VcbiAgICAgICAgOiBkYXJrXG4gICAgICAgICAgPyAnIzM4MzgzOCdcbiAgICAgICAgICA6ICcjZWJlYmViJyxcbiAgICAgIGJvcmRlclJhZGl1cyA9IDE2LFxuICAgIH0gPSBTdHlsZVNoZWV0LmZsYXR0ZW4oc3R5bGUpIHx8IHt9O1xuXG4gICAgY29uc3QgYm9yZGVyQ29sb3IgPVxuICAgICAgbW9kZSA9PT0gJ291dGxpbmVkJ1xuICAgICAgICA/IGNvbG9yKFxuICAgICAgICAgICAgc2VsZWN0ZWRDb2xvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gc2VsZWN0ZWRDb2xvclxuICAgICAgICAgICAgICA6IGNvbG9yKGRhcmsgPyB3aGl0ZSA6IGJsYWNrKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIC5hbHBoYSgwLjI5KVxuICAgICAgICAgICAgLnJnYigpXG4gICAgICAgICAgICAuc3RyaW5nKClcbiAgICAgICAgOiBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgY29uc3QgdGV4dENvbG9yID0gZGlzYWJsZWRcbiAgICAgID8gY29sb3JzLmRpc2FibGVkXG4gICAgICA6IGNvbG9yKHNlbGVjdGVkQ29sb3IgIT09IHVuZGVmaW5lZCA/IHNlbGVjdGVkQ29sb3IgOiBjb2xvcnMudGV4dClcbiAgICAgICAgICAuYWxwaGEoMC44NylcbiAgICAgICAgICAucmdiKClcbiAgICAgICAgICAuc3RyaW5nKCk7XG4gICAgY29uc3QgaWNvbkNvbG9yID0gZGlzYWJsZWRcbiAgICAgID8gY29sb3JzLmRpc2FibGVkXG4gICAgICA6IGNvbG9yKHNlbGVjdGVkQ29sb3IgIT09IHVuZGVmaW5lZCA/IHNlbGVjdGVkQ29sb3IgOiBjb2xvcnMudGV4dClcbiAgICAgICAgICAuYWxwaGEoMC41NClcbiAgICAgICAgICAucmdiKClcbiAgICAgICAgICAuc3RyaW5nKCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRCYWNrZ3JvdW5kQ29sb3IgPSAoZGFya1xuICAgICAgPyBjb2xvcihiYWNrZ3JvdW5kQ29sb3IpLmxpZ2h0ZW4obW9kZSA9PT0gJ291dGxpbmVkJyA/IDAuMiA6IDAuNClcbiAgICAgIDogY29sb3IoYmFja2dyb3VuZENvbG9yKS5kYXJrZW4obW9kZSA9PT0gJ291dGxpbmVkJyA/IDAuMDggOiAwLjIpXG4gICAgKVxuICAgICAgLnJnYigpXG4gICAgICAuc3RyaW5nKCk7XG5cbiAgICBjb25zdCB1bmRlcmxheUNvbG9yID0gc2VsZWN0ZWRDb2xvclxuICAgICAgPyBjb2xvcihzZWxlY3RlZENvbG9yKVxuICAgICAgICAgIC5mYWRlKDAuNSlcbiAgICAgICAgICAucmdiKClcbiAgICAgICAgICAuc3RyaW5nKClcbiAgICAgIDogc2VsZWN0ZWRCYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICBjb25zdCBhY2Nlc3NpYmlsaXR5VHJhaXRzID0gWydidXR0b24nXTtcbiAgICBjb25zdCBhY2Nlc3NpYmlsaXR5U3RhdGVzID0gW107XG5cbiAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgIGFjY2Vzc2liaWxpdHlUcmFpdHMucHVzaCgnc2VsZWN0ZWQnKTtcbiAgICAgIGFjY2Vzc2liaWxpdHlTdGF0ZXMucHVzaCgnc2VsZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIGFjY2Vzc2liaWxpdHlUcmFpdHMucHVzaCgnZGlzYWJsZWQnKTtcbiAgICAgIGFjY2Vzc2liaWxpdHlTdGF0ZXMucHVzaCgnZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFN1cmZhY2VcbiAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICBzdHlsZXMuY29udGFpbmVyLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVsZXZhdGlvbjogUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyA/IHRoaXMuc3RhdGUuZWxldmF0aW9uIDogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogc2VsZWN0ZWRcbiAgICAgICAgICAgICAgPyBzZWxlY3RlZEJhY2tncm91bmRDb2xvclxuICAgICAgICAgICAgICA6IGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgIGJvcmRlckNvbG9yLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGUsXG4gICAgICAgIF19XG4gICAgICAgIHsuLi5yZXN0fVxuICAgICAgPlxuICAgICAgICA8VG91Y2hhYmxlUmlwcGxlXG4gICAgICAgICAgYm9yZGVybGVzc1xuICAgICAgICAgIGRlbGF5UHJlc3NJbj17MH1cbiAgICAgICAgICBzdHlsZT17eyBib3JkZXJSYWRpdXMgfX1cbiAgICAgICAgICBvblByZXNzPXtvblByZXNzfVxuICAgICAgICAgIG9uUHJlc3NJbj17dGhpcy5faGFuZGxlUHJlc3NJbn1cbiAgICAgICAgICBvblByZXNzT3V0PXt0aGlzLl9oYW5kbGVQcmVzc091dH1cbiAgICAgICAgICB1bmRlcmxheUNvbG9yPXt1bmRlcmxheUNvbG9yfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e2FjY2Vzc2liaWxpdHlMYWJlbH1cbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5VHJhaXRzPXthY2Nlc3NpYmlsaXR5VHJhaXRzfVxuICAgICAgICAgIGFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBhY2Nlc3NpYmlsaXR5Um9sZT1cImJ1dHRvblwiXG4gICAgICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlcz17YWNjZXNzaWJpbGl0eVN0YXRlc31cbiAgICAgICAgICB0ZXN0SUQ9e3Rlc3RJRH1cbiAgICAgICAgPlxuICAgICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuY29udGVudH0+XG4gICAgICAgICAgICB7YXZhdGFyICYmICFpY29uID8gKFxuICAgICAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLmF2YXRhcldyYXBwZXIsIGRpc2FibGVkICYmIHsgb3BhY2l0eTogMC4yNiB9XX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtSZWFjdC5pc1ZhbGlkRWxlbWVudChhdmF0YXIpXG4gICAgICAgICAgICAgICAgICA/IC8qICRGbG93Rml4TWUgKi9cbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KGF2YXRhciwge1xuICAgICAgICAgICAgICAgICAgICAgIC8qICRGbG93Rml4TWUgKi9cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogW3N0eWxlcy5hdmF0YXIsIGF2YXRhci5wcm9wcy5zdHlsZV0sXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICA6IGF2YXRhcn1cbiAgICAgICAgICAgICAgPC9WaWV3PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICB7aWNvbiB8fCBzZWxlY3RlZCA/IChcbiAgICAgICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICAgICAgc3R5bGVzLmljb24sXG4gICAgICAgICAgICAgICAgICBhdmF0YXIgPyBbc3R5bGVzLmF2YXRhciwgc3R5bGVzLmF2YXRhclNlbGVjdGVkXSA6IG51bGwsXG4gICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICBzb3VyY2U9e2ljb24gfHwgJ2RvbmUnfVxuICAgICAgICAgICAgICAgICAgY29sb3I9e2F2YXRhciA/IHdoaXRlIDogaWNvbkNvbG9yfVxuICAgICAgICAgICAgICAgICAgc2l6ZT17MTh9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9WaWV3PlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICBudW1iZXJPZkxpbmVzPXsxfVxuICAgICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICAgIHN0eWxlcy50ZXh0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogb25DbG9zZSA/IDQgOiA4LFxuICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogYXZhdGFyIHx8IGljb24gfHwgc2VsZWN0ZWQgPyA0IDogOCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7KGNoaWxkcmVuOiBhbnkpfVxuICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAge29uQ2xvc2UgPyAoXG4gICAgICAgICAgICAgIDxUb3VjaGFibGVXaXRob3V0RmVlZGJhY2tcbiAgICAgICAgICAgICAgICBvblByZXNzPXtvbkNsb3NlfVxuICAgICAgICAgICAgICAgIGFjY2Vzc2liaWxpdHlUcmFpdHM9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuaWNvbn0+XG4gICAgICAgICAgICAgICAgICA8SWNvbiBzb3VyY2U9XCJjYW5jZWxcIiBzaXplPXsxNn0gY29sb3I9e2ljb25Db2xvcn0gLz5cbiAgICAgICAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgICAgIDwvVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrPlxuICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1RvdWNoYWJsZVJpcHBsZT5cbiAgICAgIDwvU3VyZmFjZT5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgY29udGFpbmVyOiB7XG4gICAgYm9yZGVyV2lkdGg6IFN0eWxlU2hlZXQuaGFpcmxpbmVXaWR0aCxcbiAgICBib3JkZXJTdHlsZTogJ3NvbGlkJyxcbiAgfSxcbiAgY29udGVudDoge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIHBhZGRpbmdIb3Jpem9udGFsOiA0LFxuICB9LFxuICBpY29uOiB7XG4gICAgcGFkZGluZzogNCxcbiAgfSxcbiAgdGV4dDoge1xuICAgIG1pbkhlaWdodDogMjQsXG4gICAgbGluZUhlaWdodDogMjQsXG4gICAgdGV4dEFsaWduVmVydGljYWw6ICdjZW50ZXInLFxuICAgIG1hcmdpblZlcnRpY2FsOiA0LFxuICB9LFxuICBhdmF0YXI6IHtcbiAgICB3aWR0aDogMjQsXG4gICAgaGVpZ2h0OiAyNCxcbiAgICBib3JkZXJSYWRpdXM6IDEyLFxuICB9LFxuICBhdmF0YXJXcmFwcGVyOiB7XG4gICAgbWFyZ2luUmlnaHQ6IDQsXG4gIH0sXG4gIGF2YXRhclNlbGVjdGVkOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiA0LFxuICAgIGxlZnQ6IDQsXG4gICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAuMjkpJyxcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoVGhlbWUoQ2hpcCk7XG4iXX0=