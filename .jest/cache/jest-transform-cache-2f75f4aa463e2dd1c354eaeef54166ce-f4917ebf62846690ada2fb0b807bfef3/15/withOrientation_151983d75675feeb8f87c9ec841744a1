59e0f8c63e9112c0dfc56481fb6d8c08
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
exports.isOrientationLandscape = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _hoistNonReactStatics = _interopRequireDefault(require("hoist-non-react-statics"));

var isOrientationLandscape = function isOrientationLandscape(_ref) {
  var width = _ref.width,
      height = _ref.height;
  return width > height;
};

exports.isOrientationLandscape = isOrientationLandscape;

function _default(WrappedComponent) {
  var withOrientation = function (_React$Component) {
    (0, _inherits2.default)(withOrientation, _React$Component);

    function withOrientation() {
      var _this;

      (0, _classCallCheck2.default)(this, withOrientation);
      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(withOrientation).call(this));
      (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), "handleOrientationChange", function (_ref2) {
        var window = _ref2.window;
        var isLandscape = isOrientationLandscape(window);

        _this.setState({
          isLandscape: isLandscape
        });
      });

      var _isLandscape = isOrientationLandscape(_reactNative.Dimensions.get('window'));

      _this.state = {
        isLandscape: _isLandscape
      };
      return _this;
    }

    (0, _createClass2.default)(withOrientation, [{
      key: "componentDidMount",
      value: function componentDidMount() {
        if (typeof _reactNative.Dimensions.addEventListener === 'function') {
          _reactNative.Dimensions.addEventListener('change', this.handleOrientationChange);
        }
      }
    }, {
      key: "componentWillUnmount",
      value: function componentWillUnmount() {
        if (typeof _reactNative.Dimensions.removeEventListener === 'function') {
          _reactNative.Dimensions.removeEventListener('change', this.handleOrientationChange);
        }
      }
    }, {
      key: "render",
      value: function render() {
        return React.createElement(WrappedComponent, (0, _extends2.default)({}, this.props, this.state));
      }
    }]);
    return withOrientation;
  }(React.Component);

  return (0, _hoistNonReactStatics.default)(withOrientation, WrappedComponent);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndpdGhPcmllbnRhdGlvbi5qcyJdLCJuYW1lcyI6WyJpc09yaWVudGF0aW9uTGFuZHNjYXBlIiwid2lkdGgiLCJoZWlnaHQiLCJXcmFwcGVkQ29tcG9uZW50Iiwid2l0aE9yaWVudGF0aW9uIiwid2luZG93IiwiaXNMYW5kc2NhcGUiLCJzZXRTdGF0ZSIsIkRpbWVuc2lvbnMiLCJnZXQiLCJzdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVPcmllbnRhdGlvbkNoYW5nZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcm9wcyIsIlJlYWN0IiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQWVPLElBQU1BLHNCQUFzQixHQUFHLFNBQXpCQSxzQkFBeUI7QUFBQSxNQUNwQ0MsS0FEb0MsUUFDcENBLEtBRG9DO0FBQUEsTUFFcENDLE1BRm9DLFFBRXBDQSxNQUZvQztBQUFBLFNBR0xELEtBQUssR0FBR0MsTUFISDtBQUFBLENBQS9COzs7O0FBS1Esa0JBQ2JDLGdCQURhLEVBRWI7QUFBQSxNQUNNQyxlQUROO0FBQUE7O0FBRUUsK0JBQWM7QUFBQTs7QUFBQTtBQUNaO0FBRFksNEdBbUJZLGlCQUE4QztBQUFBLFlBQTNDQyxNQUEyQyxTQUEzQ0EsTUFBMkM7QUFDdEUsWUFBTUMsV0FBVyxHQUFHTixzQkFBc0IsQ0FBQ0ssTUFBRCxDQUExQzs7QUFDQSxjQUFLRSxRQUFMLENBQWM7QUFBRUQsVUFBQUEsV0FBVyxFQUFYQTtBQUFGLFNBQWQ7QUFDRCxPQXRCYTs7QUFHWixVQUFNQSxZQUFXLEdBQUdOLHNCQUFzQixDQUFDUSx3QkFBV0MsR0FBWCxDQUFlLFFBQWYsQ0FBRCxDQUExQzs7QUFDQSxZQUFLQyxLQUFMLEdBQWE7QUFBRUosUUFBQUEsV0FBVyxFQUFYQTtBQUFGLE9BQWI7QUFKWTtBQUtiOztBQVBIO0FBQUE7QUFBQSwwQ0FTc0I7QUFDbEIsWUFBSSxPQUFPRSx3QkFBV0csZ0JBQWxCLEtBQXVDLFVBQTNDLEVBQXVEO0FBQ3JESCxrQ0FBV0csZ0JBQVgsQ0FBNEIsUUFBNUIsRUFBc0MsS0FBS0MsdUJBQTNDO0FBQ0Q7QUFDRjtBQWJIO0FBQUE7QUFBQSw2Q0FleUI7QUFDckIsWUFBSSxPQUFPSix3QkFBV0ssbUJBQWxCLEtBQTBDLFVBQTlDLEVBQTBEO0FBQ3hETCxrQ0FBV0ssbUJBQVgsQ0FBK0IsUUFBL0IsRUFBeUMsS0FBS0QsdUJBQTlDO0FBQ0Q7QUFDRjtBQW5CSDtBQUFBO0FBQUEsK0JBMEJXO0FBQ1AsZUFBTyxvQkFBQyxnQkFBRCw2QkFBc0IsS0FBS0UsS0FBM0IsRUFBc0MsS0FBS0osS0FBM0MsRUFBUDtBQUNEO0FBNUJIO0FBQUE7QUFBQSxJQUM4QkssS0FBSyxDQUFDQyxTQURwQzs7QUErQkEsU0FBTyxtQ0FBb0JaLGVBQXBCLEVBQXFDRCxnQkFBckMsQ0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgaG9pc3ROb25SZWFjdFN0YXRpYyBmcm9tICdob2lzdC1ub24tcmVhY3Qtc3RhdGljcyc7XG5cbnR5cGUgV2luZG93RGltZW5zaW9ucyA9IHtcbiAgd2lkdGg6IG51bWJlcixcbiAgaGVpZ2h0OiBudW1iZXIsXG59O1xuXG50eXBlIEluamVjdGVkUHJvcHMgPSB7XG4gIGlzTGFuZHNjYXBlOiBib29sZWFuLFxufTtcblxudHlwZSBTdGF0ZSA9IHtcbiAgaXNMYW5kc2NhcGU6IGJvb2xlYW4sXG59O1xuXG5leHBvcnQgY29uc3QgaXNPcmllbnRhdGlvbkxhbmRzY2FwZSA9ICh7XG4gIHdpZHRoLFxuICBoZWlnaHQsXG59OiBXaW5kb3dEaW1lbnNpb25zKTogYm9vbGVhbiA9PiB3aWR0aCA+IGhlaWdodDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb248VDoge30+KFxuICBXcmFwcGVkQ29tcG9uZW50OiBSZWFjdC5Db21wb25lbnRUeXBlPFQgJiBJbmplY3RlZFByb3BzPlxuKSB7XG4gIGNsYXNzIHdpdGhPcmllbnRhdGlvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxULCBTdGF0ZT4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcblxuICAgICAgY29uc3QgaXNMYW5kc2NhcGUgPSBpc09yaWVudGF0aW9uTGFuZHNjYXBlKERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKSk7XG4gICAgICB0aGlzLnN0YXRlID0geyBpc0xhbmRzY2FwZSB9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgaWYgKHR5cGVvZiBEaW1lbnNpb25zLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgRGltZW5zaW9ucy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmhhbmRsZU9yaWVudGF0aW9uQ2hhbmdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0eXBlb2YgRGltZW5zaW9ucy5yZW1vdmVFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIERpbWVuc2lvbnMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVPcmllbnRhdGlvbkNoYW5nZSk7ICBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVPcmllbnRhdGlvbkNoYW5nZSA9ICh7IHdpbmRvdyB9OiB7IHdpbmRvdzogV2luZG93RGltZW5zaW9ucyB9KSA9PiB7XG4gICAgICBjb25zdCBpc0xhbmRzY2FwZSA9IGlzT3JpZW50YXRpb25MYW5kc2NhcGUod2luZG93KTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xhbmRzY2FwZSB9KTtcbiAgICB9O1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIDxXcmFwcGVkQ29tcG9uZW50IHsuLi50aGlzLnByb3BzfSB7Li4udGhpcy5zdGF0ZX0gLz47XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGhvaXN0Tm9uUmVhY3RTdGF0aWMod2l0aE9yaWVudGF0aW9uLCBXcmFwcGVkQ29tcG9uZW50KTtcbn1cbiJdfQ==